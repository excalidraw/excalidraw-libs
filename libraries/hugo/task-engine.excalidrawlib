{
  "type": "excalidrawlib",
  "version": 2,
  "source": "https://excalidraw.com",
  "libraryItems": [
    {
      "id": "l1sEWp6Jy4BJnvkRGaPOI",
      "status": "published",
      "elements": [
        {
          "type": "rectangle",
          "version": 2356,
          "versionNonce": 1958831987,
          "index": "bF8",
          "isDeleted": false,
          "id": "xY6Vb52cm91GGsSEKSwKx",
          "fillStyle": "hachure",
          "strokeWidth": 4,
          "strokeStyle": "dashed",
          "roughness": 0,
          "opacity": 100,
          "angle": 0,
          "x": -1161.2642678247294,
          "y": 5620.807294606368,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "width": 10147.988337006202,
          "height": 5803.2421875,
          "seed": 264253810,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "roundness": {
            "type": 3
          },
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "LdTDskwfYI_EGj0lSxahT",
          "type": "rectangle",
          "x": 1407.3615822883157,
          "y": 5810.3208144440805,
          "width": 371.74493025181215,
          "height": 301.49809141162075,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFE",
          "roundness": {
            "type": 3
          },
          "seed": 49837694,
          "version": 1136,
          "versionNonce": 699007251,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "CRmI2DEPxtQf8rZH4_fY7",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "UietKpOcyZ4ICCkYQfINb",
          "type": "text",
          "x": 1502.3673485744994,
          "y": 5886.46619014139,
          "width": 193.52043904259716,
          "height": 131.9697890894774,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFF",
          "roundness": null,
          "seed": 234824894,
          "version": 1333,
          "versionNonce": 2132088915,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "CRmI2DEPxtQf8rZH4_fY7",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "Pay",
          "fontSize": 105.57583127158206,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "Pay",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "CRmI2DEPxtQf8rZH4_fY7",
          "type": "arrow",
          "x": 1779.2021709512128,
          "y": 5875.7221304542345,
          "width": 91.67309108881909,
          "height": 0.08165986931180669,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFG",
          "roundness": {
            "type": 2
          },
          "seed": 967212962,
          "version": 2676,
          "versionNonce": 1472722227,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              91.67309108881909,
              -0.08165986931180669
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "LdTDskwfYI_EGj0lSxahT",
            "focus": -0.5661576781203259,
            "gap": 1,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "U1hhAmwASbYif2zbD56A3",
            "focus": -0.04040886018893211,
            "gap": 15.863339961159909,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "U1hhAmwASbYif2zbD56A3",
          "type": "text",
          "x": 1886.7386020011918,
          "y": 5851.9266268727515,
          "width": 626.9397583007812,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFJ",
          "roundness": null,
          "seed": 2085697022,
          "version": 1143,
          "versionNonce": 59989907,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "CRmI2DEPxtQf8rZH4_fY7",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CustomerProfileStore.pickCurrency()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CustomerProfileStore.pickCurrency()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "bP1VvLJf3QVyEbEY3yl4m",
          "type": "text",
          "x": 1902.6753525880645,
          "y": 5913.328852708532,
          "width": 1100.6139334945537,
          "height": 249.16334804775076,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFL",
          "roundness": null,
          "seed": 1975116642,
          "version": 1539,
          "versionNonce": 270063315,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "m1UmCFAcq1lvKeqPkU_2b",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "const currencyStore: CurrencyStore = getParent<typeof RootStoreModel>(store).currencyStore\nconst paymentStore: PaymentStore = getParent<typeof RootStoreModel>(store).paymentStore\n\nif (currencyStore.multipleCurrenciesEnabled() && !paymentStore.selectedCurrencyOption) {\n    navigationRef.navigate(FeatureScreens.CurrencyPickerScreen)\n    return\n}\n\nstore.payNow()",
          "fontSize": 22.147853159800075,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const currencyStore: CurrencyStore = getParent<typeof RootStoreModel>(store).currencyStore\nconst paymentStore: PaymentStore = getParent<typeof RootStoreModel>(store).paymentStore\n\nif (currencyStore.multipleCurrenciesEnabled() && !paymentStore.selectedCurrencyOption) {\n    navigationRef.navigate(FeatureScreens.CurrencyPickerScreen)\n    return\n}\n\nstore.payNow()",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "qpWfRm4v_-Yce0XIYSNNe",
          "type": "arrow",
          "x": 2431.6475414173215,
          "y": 5998.305655744892,
          "width": 765.4942869636552,
          "height": 293.5773606369412,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFM",
          "roundness": {
            "type": 2
          },
          "seed": 399752866,
          "version": 3877,
          "versionNonce": 1352236563,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              105.86277044304006,
              -14.552928574446923
            ],
            [
              633.0290423870006,
              -33.9700697605042
            ],
            [
              686.6027517480939,
              -247.59052119864373
            ],
            [
              765.4942869636552,
              -293.5773606369412
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "RiBpJrCsu_e1ca7nAuD33",
          "type": "text",
          "x": 3232.4205351754927,
          "y": 5712.412954322663,
          "width": 973.5588346960675,
          "height": 223.53297456274385,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFO",
          "roundness": null,
          "seed": 1349777314,
          "version": 2198,
          "versionNonce": 193348531,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "multipleCurrenciesEnabled(): boolean {\n  if (!store.currencyConfig) {\n    return false\n  }\n\n  const { switchCurrencyEnabled, alternateCurrencyCode } = store.currencyConfig\n  return switchCurrencyEnabled && alternateCurrencyCode !== undefined\n},",
          "fontSize": 22.353297456274383,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "multipleCurrenciesEnabled(): boolean {\n  if (!store.currencyConfig) {\n    return false\n  }\n\n  const { switchCurrencyEnabled, alternateCurrencyCode } = store.currencyConfig\n  return switchCurrencyEnabled && alternateCurrencyCode !== undefined\n},",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "lAXgS0Mv1x1VP-3_Ll4V3",
          "type": "text",
          "x": 3230.875668814754,
          "y": 5662.037337421909,
          "width": 716.7237548828125,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFP",
          "roundness": null,
          "seed": 1901778494,
          "version": 1282,
          "versionNonce": 67720531,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "currencyStore.multipleCurrenciesEnabled()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "currencyStore.multipleCurrenciesEnabled()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "gN6wj9eszJz6I8cB3qos0",
          "type": "arrow",
          "x": 4173.060914097862,
          "y": 5852.823560299534,
          "width": 97.16089630822898,
          "height": 89.98879045097374,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFQ",
          "roundness": {
            "type": 2
          },
          "seed": 497116606,
          "version": 1243,
          "versionNonce": 1232679667,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              15.738581829469695,
              -78.74111875239123
            ],
            [
              97.16089630822898,
              -89.98879045097374
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "kAoM7p-s7gY0gObYcLYhh",
          "type": "text",
          "x": 4287.398306494432,
          "y": 5677.848174513129,
          "width": 610.3103376185152,
          "height": 236.64422780990415,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFR",
          "roundness": null,
          "seed": 1582019298,
          "version": 1105,
          "versionNonce": 1012685971,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export const CurrencyConfigModel = types.model({\n  countryCode: types.string,\n  countryName: types.string,\n  currency: types.string,\n  currencyCode: types.string,\n  alternateCurrency: types.maybe(types.string),\n  alternateCurrencyCode: types.maybe(types.string),\n  switchCurrencyEnabled: types.boolean,\n})",
          "fontSize": 21.035042471991478,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export const CurrencyConfigModel = types.model({\n  countryCode: types.string,\n  countryName: types.string,\n  currency: types.string,\n  currencyCode: types.string,\n  alternateCurrency: types.maybe(types.string),\n  alternateCurrencyCode: types.maybe(types.string),\n  switchCurrencyEnabled: types.boolean,\n})",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "QieYTNpV4tkZR3AjTA8uM",
          "type": "text",
          "x": 4284.677784635794,
          "y": 5631.715102229937,
          "width": 355.0318603515625,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFS",
          "roundness": null,
          "seed": 1837307070,
          "version": 1419,
          "versionNonce": 1751732787,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CurrencyConfigModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CurrencyConfigModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "3TQeBfvKXlhUKzbKYBSre",
          "type": "text",
          "x": 3244.522686290801,
          "y": 6028.26375326545,
          "width": 758.2109522750792,
          "height": 17.40613748620996,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFU",
          "roundness": null,
          "seed": 640950626,
          "version": 1335,
          "versionNonce": 512136147,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export const CurrencyOptionsModel = types.enumeration([CurrencyOptions.Local, CurrencyOptions.USD])",
          "fontSize": 13.924909988967967,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export const CurrencyOptionsModel = types.enumeration([CurrencyOptions.Local, CurrencyOptions.USD])",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "wRkBtf9l4Bb8c9gH4Y5QW",
          "type": "arrow",
          "x": 2755.0265179988214,
          "y": 6024.387756902466,
          "width": 466.62620604007316,
          "height": 26.562202726858686,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFV",
          "roundness": {
            "type": 2
          },
          "seed": 1509746978,
          "version": 1460,
          "versionNonce": 1321902451,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              173.03754144806226,
              26.562202726858686
            ],
            [
              466.62620604007316,
              14.338693147460845
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "oU8WUZziSaMKwstHOiyqi",
          "type": "text",
          "x": 3235.9195690287806,
          "y": 5979.26752706068,
          "width": 360.64788818359375,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFW",
          "roundness": null,
          "seed": 1403212350,
          "version": 1431,
          "versionNonce": 578550547,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CurrencyOptionModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CurrencyOptionModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "qSnjQWyEFb7DSwJ8kfFj2",
          "type": "arrow",
          "x": 2543.0413255056337,
          "y": 6050.7509054379125,
          "width": 679.2186071296192,
          "height": 233.16033184655043,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFY",
          "roundness": {
            "type": 2
          },
          "seed": 1690424190,
          "version": 3005,
          "versionNonce": 244865427,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              293.8869658390022,
              179.42440699003134
            ],
            [
              679.2186071296192,
              233.16033184655043
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "vuIO7Zq2F8lXUAUQ7KUy1",
            "focus": 0.047596294339013856,
            "gap": 21.571533340917085,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "NtGKwtTB0ikequU5_9SqJ",
          "type": "text",
          "x": 3244.0474023278866,
          "y": 6104.56926632055,
          "width": 424.9798583984375,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFZ",
          "roundness": null,
          "seed": 1101104994,
          "version": 1567,
          "versionNonce": 1395692115,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CurrencyPickerViewModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CurrencyPickerViewModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "vuIO7Zq2F8lXUAUQ7KUy1",
          "type": "text",
          "x": 3243.83146597617,
          "y": 6156.388634696941,
          "width": 1172.3140117189917,
          "height": 453.9318833017112,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFa",
          "roundness": null,
          "seed": 128524414,
          "version": 1106,
          "versionNonce": 179359731,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "qSnjQWyEFb7DSwJ8kfFj2",
              "type": "arrow"
            },
            {
              "id": "Thmjvck8-E20R3ymEt5IR",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "@computed get currencyOptions(): CurrencyPickerProps[\"options\"] {\n    const options = this.currencyStore.getPaymentCurrencyOptions()\n    const selectedOption = this.paymentStore.selectedCurrencyOption\n    return options.map((item) => ({\n      id: item,\n      title: item === CurrencyOptions.Local ? \"payment.payInLocal\" : \"payment.payInUSD\",\n      selected: item === selectedOption,\n      onPress: () => this.paymentStore.setSelectedCurrencyOption(item),\n    }))\n}\n\n@action.bound onCurrencyPickerContinue() {\n    this.navigation.pop()\n    this.customerProfileStore.payNow()\n}",
          "fontSize": 24.209700442757928,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "@computed get currencyOptions(): CurrencyPickerProps[\"options\"] {\n    const options = this.currencyStore.getPaymentCurrencyOptions()\n    const selectedOption = this.paymentStore.selectedCurrencyOption\n    return options.map((item) => ({\n      id: item,\n      title: item === CurrencyOptions.Local ? \"payment.payInLocal\" : \"payment.payInUSD\",\n      selected: item === selectedOption,\n      onPress: () => this.paymentStore.setSelectedCurrencyOption(item),\n    }))\n}\n\n@action.bound onCurrencyPickerContinue() {\n    this.navigation.pop()\n    this.customerProfileStore.payNow()\n}",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "n_tIQgPRVBODyWZYI7yrQ",
          "type": "arrow",
          "x": 4206.380673320206,
          "y": 6388.359615529317,
          "width": 339.81529057732405,
          "height": 0,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFb",
          "roundness": {
            "type": 2
          },
          "seed": 2078355262,
          "version": 1143,
          "versionNonce": 1168593107,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              339.81529057732405,
              0
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "njFboGMAz6mqS3cXeBCBU",
          "type": "text",
          "x": 4573.696187966335,
          "y": 6370.355873518785,
          "width": 776.3055748711976,
          "height": 89.70624877589078,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFc",
          "roundness": null,
          "seed": 1379717922,
          "version": 1045,
          "versionNonce": 751550067,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "setSelectedCurrencyOption(option: CurrencyOptions | null) {\n    store.setProp(\"selectedCurrencyOption\", option)\n},",
          "fontSize": 23.92166634023754,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "setSelectedCurrencyOption(option: CurrencyOptions | null) {\n    store.setProp(\"selectedCurrencyOption\", option)\n},",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "nE0WI1UGGwO-gOxq9LRGc",
          "type": "text",
          "x": 4573.968258021806,
          "y": 6312.1377267782245,
          "width": 748.367817401886,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFd",
          "roundness": null,
          "seed": 1921116542,
          "version": 1548,
          "versionNonce": 1011972115,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "paymentStore.setSelectedCurrencyOption()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "paymentStore.setSelectedCurrencyOption()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "l_ffWPZaF_7v8Ql-o-S6B",
          "type": "text",
          "x": 1897.9311692805322,
          "y": 6780.612839838485,
          "width": 1263.0086904876705,
          "height": 662.1430360812213,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFe",
          "roundness": null,
          "seed": 2081100898,
          "version": 1341,
          "versionNonce": 1915682227,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "payNow() {\n      const taskStore: TaskStore = getParent<typeof RootStoreModel>(store).taskStore\n      const authenticationStore: AuthenticationStore =\n        getParent<typeof RootStoreModel>(store).authenticationStore\n\n      const continueScreen = taskStore.getCurrentTaskContinueScreen()\n      if (\n        taskStore.hasActiveTasksWithTypes([\n          PayNowTask,\n          PaymentTasks.DstvPaymentTask,\n          PaymentTasks.PaymentStatusTask,\n        ]) &&\n        continueScreen\n      ) {\n        navigationRef.navigate(continueScreen as any)\n        return\n      }\n\n      taskStore.addTask(\n        authenticationStore.matchesCountry(\"ZA\") ? PaymentTasks.DstvPaymentTask : PayNowTask,\n      )\n},",
          "fontSize": 24.077928584771687,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "payNow() {\n      const taskStore: TaskStore = getParent<typeof RootStoreModel>(store).taskStore\n      const authenticationStore: AuthenticationStore =\n        getParent<typeof RootStoreModel>(store).authenticationStore\n\n      const continueScreen = taskStore.getCurrentTaskContinueScreen()\n      if (\n        taskStore.hasActiveTasksWithTypes([\n          PayNowTask,\n          PaymentTasks.DstvPaymentTask,\n          PaymentTasks.PaymentStatusTask,\n        ]) &&\n        continueScreen\n      ) {\n        navigationRef.navigate(continueScreen as any)\n        return\n      }\n\n      taskStore.addTask(\n        authenticationStore.matchesCountry(\"ZA\") ? PaymentTasks.DstvPaymentTask : PayNowTask,\n      )\n},",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "frwD3h8xeJf_Wd7hGOjnN",
          "type": "text",
          "x": 1889.3847466657398,
          "y": 6724.1175577217855,
          "width": 543.1318359375,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFf",
          "roundness": null,
          "seed": 255229630,
          "version": 1346,
          "versionNonce": 1233833811,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CustomerProfileStore.payNow()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CustomerProfileStore.payNow()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "m1UmCFAcq1lvKeqPkU_2b",
          "type": "arrow",
          "x": 2023.0227982963659,
          "y": 6174.496551261773,
          "width": 167.61087091617514,
          "height": 528.5614866638433,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFg",
          "roundness": {
            "type": 2
          },
          "seed": 790774654,
          "version": 2320,
          "versionNonce": 347827443,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -167.61087091617514,
              263.9048589367949
            ],
            [
              -74.98444005870874,
              528.5614866638433
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "bP1VvLJf3QVyEbEY3yl4m",
            "focus": 0.5452720784165902,
            "gap": 12.004350505490493,
            "fixedPoint": null
          },
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "Thmjvck8-E20R3ymEt5IR",
          "type": "arrow",
          "x": 3557.908120669166,
          "y": 6611.320517998653,
          "width": 1084.111715558855,
          "height": 129.8338356723209,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFh",
          "roundness": {
            "type": 2
          },
          "seed": 1154041918,
          "version": 2127,
          "versionNonce": 390551187,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -466.2632918089462,
              99.4019896000118
            ],
            [
              -1084.111715558855,
              129.8338356723209
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "vuIO7Zq2F8lXUAUQ7KUy1",
            "focus": -0.48294417922887495,
            "gap": 1,
            "fixedPoint": null
          },
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "TMZ6cmMLTIxdoaED6GQyg",
          "type": "ellipse",
          "x": 2400.4503234564463,
          "y": 6917.907488614733,
          "width": 431.9940176242382,
          "height": 53.4708180858525,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFi",
          "roundness": {
            "type": 2
          },
          "seed": 580447678,
          "version": 1356,
          "versionNonce": 1608846387,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Z3l9673CNRI_9_LkQwfEl",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "Z3l9673CNRI_9_LkQwfEl",
          "type": "arrow",
          "x": 2839.301564718336,
          "y": 6943.539722981052,
          "width": 441.7261948505966,
          "height": 168.8409454522564,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFj",
          "roundness": {
            "type": 2
          },
          "seed": 764976866,
          "version": 2529,
          "versionNonce": 1377819507,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              291.2406874710723,
              -55.77359593363957
            ],
            [
              441.7261948505966,
              -168.8409454522564
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "TMZ6cmMLTIxdoaED6GQyg",
            "focus": 0.8441084807947722,
            "gap": 6.976638438954296,
            "fixedPoint": null
          },
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "2IFe3r_6RPQ1JxSgu7out",
          "type": "text",
          "x": 3284.4760117230244,
          "y": 6714.694583015471,
          "width": 761.8317260742188,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFk",
          "roundness": null,
          "seed": 2048965374,
          "version": 1761,
          "versionNonce": 991556883,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskStore.getCurrentTaskContinueScreen()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.getCurrentTaskContinueScreen()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "_W7KoRpREZdwslioeWW4L",
          "type": "text",
          "x": 3289.9495327099567,
          "y": 6767.491150676471,
          "width": 1151.3065461718797,
          "height": 410.22107319325096,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFl",
          "roundness": null,
          "seed": 789126818,
          "version": 1474,
          "versionNonce": 1558174387,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "sg6ikHK6yEiYCt2d0epp6",
              "type": "arrow"
            },
            {
              "id": "mo9r9GYfer7sfDzPr5Suc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "getCurrentTaskContinueScreen(): FeatureScreen | null {\n  const currentTask = store.currentTask\n  if (!currentTask) {\n    return null\n  }\n\n  const taskWorker = taskFactory.workerResolver.getWorkerFor(currentTask.type)\n  if (!taskWorker) {\n    return null\n  }\n\n  return taskWorker.getContinueScreen()\n},",
          "fontSize": 25.24437373496929,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "getCurrentTaskContinueScreen(): FeatureScreen | null {\n  const currentTask = store.currentTask\n  if (!currentTask) {\n    return null\n  }\n\n  const taskWorker = taskFactory.workerResolver.getWorkerFor(currentTask.type)\n  if (!taskWorker) {\n    return null\n  }\n\n  return taskWorker.getContinueScreen()\n},",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "QIOv2UG_uqURpl-8M4lcO",
          "type": "arrow",
          "x": 3854.2126342586553,
          "y": 6813.584194260791,
          "width": 591.5151645306469,
          "height": 0.3263181729436724,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFm",
          "roundness": {
            "type": 2
          },
          "seed": 304212670,
          "version": 2349,
          "versionNonce": 1073631379,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              591.5151645306469,
              0.3263181729436724
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "BmcoTdGlBR6glMp_BcatV",
            "focus": 0.0070923416726229585,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "cGdDownhyCTSm6PLWNkkk",
          "type": "text",
          "x": 4449.921147298402,
          "y": 6755.559492072149,
          "width": 1120.546646118164,
          "height": 117.78866419264548,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFn",
          "roundness": null,
          "seed": 1414539554,
          "version": 1194,
          "versionNonce": 1936282515,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "QIOv2UG_uqURpl-8M4lcO",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "get currentTask(): Task | null {\n      return (\n        [...store.activeTasks.values()].sort(utils.sortTasksByLastUpdated).find(firstResult) || null\n      )\n},",
          "fontSize": 18.846186270823278,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "get currentTask(): Task | null {\n      return (\n        [...store.activeTasks.values()].sort(utils.sortTasksByLastUpdated).find(firstResult) || null\n      )\n},",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "1M_Q_fmGaepJCd296ulSH",
          "type": "text",
          "x": 4437.5981599710785,
          "y": 6702.785111236574,
          "width": 435.99578857421875,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFo",
          "roundness": null,
          "seed": 2017862398,
          "version": 2011,
          "versionNonce": 1086286131,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskStore.currentTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.currentTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "s_VuBub7Z8kPjfTSryMmW",
          "type": "text",
          "x": 6497.762786172293,
          "y": 5691.933531461252,
          "width": 1487.9375486051576,
          "height": 598.2382152645099,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFp",
          "roundness": null,
          "seed": 331542498,
          "version": 1301,
          "versionNonce": 1375849171,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "ffV4bsTRNEdJI0YaZur-G",
              "type": "arrow"
            },
            {
              "id": "9Tkqki_aLu_R9dq-jKmyc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export const ActiveTaskModel = TaskModel.views((store) => ({\n  get isRunnable(): boolean {\n    const hasRunnableStatus = runnableTaskStatuses.includes(store.status)\n\n    if (!hasRunnableStatus) {\n      return false\n    }\n\n    if (store.isScheduledTask) {\n      return store.scheduledDate <= new Date()\n    }\n\n    // return true if a task is retryable and enough time has passed\n    if (retryableTaskStatuses.includes(store.status)) {\n      return store.lastUpdated.valueOf() + Config.tasks.retryDelayMilliseconds <= Date.now()\n    }\n\n    return true // if this is not a scheduled task or a retry task, but it has a runnable status, return true\n  },\n}))",
          "fontSize": 23.929528610580412,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export const ActiveTaskModel = TaskModel.views((store) => ({\n  get isRunnable(): boolean {\n    const hasRunnableStatus = runnableTaskStatuses.includes(store.status)\n\n    if (!hasRunnableStatus) {\n      return false\n    }\n\n    if (store.isScheduledTask) {\n      return store.scheduledDate <= new Date()\n    }\n\n    // return true if a task is retryable and enough time has passed\n    if (retryableTaskStatuses.includes(store.status)) {\n      return store.lastUpdated.valueOf() + Config.tasks.retryDelayMilliseconds <= Date.now()\n    }\n\n    return true // if this is not a scheduled task or a retry task, but it has a runnable status, return true\n  },\n}))",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "x9oChVlxLWCk3V7-WjGBv",
          "type": "text",
          "x": 6493.933281369645,
          "y": 5641.720548384599,
          "width": 294.5158996582031,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFq",
          "roundness": null,
          "seed": 262055614,
          "version": 2247,
          "versionNonce": 2076637299,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "9Tkqki_aLu_R9dq-jKmyc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "ActiveTaskModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "ActiveTaskModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "fqYc6V9nRPKcjcpP3EMRV",
          "type": "arrow",
          "x": 4760.015438319008,
          "y": 6795.2160861543625,
          "width": 824.465866749375,
          "height": 1113.7878028028422,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFr",
          "roundness": {
            "type": 2
          },
          "seed": 812220926,
          "version": 4498,
          "versionNonce": 2001315571,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              542.3005623521622,
              -201.1579522272441
            ],
            [
              721.8336570790952,
              -994.4758040785646
            ],
            [
              824.465866749375,
              -1113.7878028028422
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "BmcoTdGlBR6glMp_BcatV",
            "focus": 0.0916264403434352,
            "gap": 1,
            "fixedPoint": null
          },
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "BmcoTdGlBR6glMp_BcatV",
          "type": "ellipse",
          "x": 4538.560402280927,
          "y": 6794.284074071033,
          "width": 310.51206401240216,
          "height": 39.80894155481411,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFs",
          "roundness": {
            "type": 2
          },
          "seed": 366571298,
          "version": 1646,
          "versionNonce": 534268243,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "fqYc6V9nRPKcjcpP3EMRV",
              "type": "arrow"
            },
            {
              "id": "QIOv2UG_uqURpl-8M4lcO",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "UKTHJ6xRSnKRO2FQekitA",
          "type": "text",
          "x": 7933.83356962699,
          "y": 6476.422426056614,
          "width": 868.3404101367996,
          "height": 542.4689863213523,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFt",
          "roundness": null,
          "seed": 1089026110,
          "version": 1540,
          "versionNonce": 195872307,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export const TaskModel = types\n  .model({\n    identifier: types.identifier,\n    status: types.enumeration(\"TaskStatus\", [\n      TaskStatus.new,\n      TaskStatus.processing,\n      TaskStatus.failedRetry,\n      TaskStatus.pollRetry,\n      TaskStatus.failed,\n      TaskStatus.success,\n      TaskStatus.waitingUserInput,\n      TaskStatus.cancelled,\n    ]),\n    type: types.string,\n    error: types.maybeNull(types.frozen<CustomError>()),\n    processingAttempts: types.number,\n    created: types.Date,\n    lastUpdated: types.Date,\n    scheduledDate: types.optional(types.maybeNull(types.Date), null),\n  })",
          "fontSize": 21.698759452854087,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export const TaskModel = types\n  .model({\n    identifier: types.identifier,\n    status: types.enumeration(\"TaskStatus\", [\n      TaskStatus.new,\n      TaskStatus.processing,\n      TaskStatus.failedRetry,\n      TaskStatus.pollRetry,\n      TaskStatus.failed,\n      TaskStatus.success,\n      TaskStatus.waitingUserInput,\n      TaskStatus.cancelled,\n    ]),\n    type: types.string,\n    error: types.maybeNull(types.frozen<CustomError>()),\n    processingAttempts: types.number,\n    created: types.Date,\n    lastUpdated: types.Date,\n    scheduledDate: types.optional(types.maybeNull(types.Date), null),\n  })",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "jSefMVRbbjLeYK7CGEG5L",
          "type": "text",
          "x": 7922.95023432621,
          "y": 6431.044264366761,
          "width": 185.11192321777344,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFu",
          "roundness": null,
          "seed": 385609214,
          "version": 2589,
          "versionNonce": 1899726803,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "ffV4bsTRNEdJI0YaZur-G",
              "type": "arrow"
            },
            {
              "id": "sdDJZdZT72ZZh7bFR0UuC",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "ffV4bsTRNEdJI0YaZur-G",
          "type": "arrow",
          "x": 6989.624897838638,
          "y": 5682.623685304998,
          "width": 1051.6060841774006,
          "height": 738.5894590978351,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFv",
          "roundness": {
            "type": 2
          },
          "seed": 2141338942,
          "version": 3460,
          "versionNonce": 1238189043,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              658.0481372423183,
              -15.527061981166298
            ],
            [
              1029.646877409953,
              134.31483205198765
            ],
            [
              1051.6060841774006,
              723.0623971166688
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "ZE20VccrqqOtfvvBmj5RB",
            "focus": -0.9494255859046473,
            "gap": 1,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "jSefMVRbbjLeYK7CGEG5L",
            "focus": 0.29455279709988297,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "ZE20VccrqqOtfvvBmj5RB",
          "type": "ellipse",
          "x": 6887.177683514564,
          "y": 5682.01786443365,
          "width": 152.06543611770758,
          "height": 50.972930333165095,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFw",
          "roundness": {
            "type": 2
          },
          "seed": 1689719870,
          "version": 1261,
          "versionNonce": 969639507,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "ffV4bsTRNEdJI0YaZur-G",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "JBolj4osg-zUJzeXxenoF",
          "type": "text",
          "x": 5623.908396170896,
          "y": 5693.221136662805,
          "width": 584.6864661641577,
          "height": 183.25130095403298,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFx",
          "roundness": null,
          "seed": 837401854,
          "version": 1198,
          "versionNonce": 436620691,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "9Tkqki_aLu_R9dq-jKmyc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export const TaskStoreModel = types\n  .model(\"TaskStoreModel\")\n  .props({\n    scheduledTasks: types.map(ActiveTaskModel),\n    activeTasks: types.map(ActiveTaskModel),\n    completedTasks: types.map(TaskModel),\n  })",
          "fontSize": 20.943005823318085,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export const TaskStoreModel = types\n  .model(\"TaskStoreModel\")\n  .props({\n    scheduledTasks: types.map(ActiveTaskModel),\n    activeTasks: types.map(ActiveTaskModel),\n    completedTasks: types.map(TaskModel),\n  })",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "zdOi4svowfQO7JOxO599X",
          "type": "text",
          "x": 5617.756816200431,
          "y": 5642.852055369939,
          "width": 282.45587158203125,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFy",
          "roundness": null,
          "seed": 768796094,
          "version": 2397,
          "versionNonce": 1034756915,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskStoreModel",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStoreModel",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "9Tkqki_aLu_R9dq-jKmyc",
          "type": "arrow",
          "x": 6181.557173818553,
          "y": 5784.6522250394555,
          "width": 298.376107551092,
          "height": 110.43676229182074,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bFz",
          "roundness": {
            "type": 2
          },
          "seed": 1335652386,
          "version": 3060,
          "versionNonce": 925199379,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              159.81467579797754,
              -28.74147577142662
            ],
            [
              298.376107551092,
              -110.43676229182074
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "Udkvzpdy2b-6lJ8Tv8Oxy",
            "focus": 0.7502735910683209,
            "gap": 1,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "x9oChVlxLWCk3V7-WjGBv",
            "focus": 0.7782659609793736,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "Udkvzpdy2b-6lJ8Tv8Oxy",
          "type": "ellipse",
          "x": 5949.558365814758,
          "y": 5755.005317780278,
          "width": 232.4805729584732,
          "height": 51.28578500519393,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG0",
          "roundness": {
            "type": 2
          },
          "seed": 979666622,
          "version": 1089,
          "versionNonce": 1343107699,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "9Tkqki_aLu_R9dq-jKmyc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "lpl0rssQwiaOOgq7XKXr-",
          "type": "text",
          "x": 4434.342324012009,
          "y": 7111.149490360705,
          "width": 1104.7816925048828,
          "height": 88.5666201387509,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG4",
          "roundness": null,
          "seed": 353463074,
          "version": 1895,
          "versionNonce": 1449423283,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "getWorkerFor(taskType: string): TaskWorker | null {\n    return this.taskWorkers.has(taskType) ? this.taskWorkers.get(taskType) : null\n}",
          "fontSize": 23.617765370333576,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "getWorkerFor(taskType: string): TaskWorker | null {\n    return this.taskWorkers.has(taskType) ? this.taskWorkers.get(taskType) : null\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "9UtmHEWJsDczlyAYEWkFj",
          "type": "text",
          "x": 4432.461510352724,
          "y": 7050.576148229235,
          "width": 615.5997314453125,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG5",
          "roundness": null,
          "seed": 68240546,
          "version": 2434,
          "versionNonce": 1861337939,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "sg6ikHK6yEiYCt2d0epp6",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskWorkerFactory.getWorkerFor()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskWorkerFactory.getWorkerFor()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "sg6ikHK6yEiYCt2d0epp6",
          "type": "arrow",
          "x": 4045.627359997364,
          "y": 7002.179138243571,
          "width": 367.1965246534546,
          "height": 77.65358060250486,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG6",
          "roundness": {
            "type": 2
          },
          "seed": 2079422242,
          "version": 2227,
          "versionNonce": 511789715,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              45.206389074659455,
              69.5254552225195
            ],
            [
              367.1965246534546,
              77.65358060250486
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "9UtmHEWJsDczlyAYEWkFj",
            "focus": -0.4962751266911259,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "8cHXjjfBOvpMXNGGlPuIQ",
          "type": "text",
          "x": 3297.288587829279,
          "y": 7291.550429818649,
          "width": 700.73974609375,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG7",
          "roundness": null,
          "seed": 708448802,
          "version": 2699,
          "versionNonce": 1405124659,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "mo9r9GYfer7sfDzPr5Suc",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "CallbackTaskWorker.getContinueScreen()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CallbackTaskWorker.getContinueScreen()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "tJ_ZKzlJHyCed0iyKB0xQ",
          "type": "text",
          "x": 3283.837204903378,
          "y": 7343.0535926551,
          "width": 685.9374793699366,
          "height": 99.71960002957711,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG8",
          "roundness": null,
          "seed": 1539029730,
          "version": 1083,
          "versionNonce": 851968467,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": " getContinueScreen(): FeatureScreen {\n    return this.getContinueScreenFunction()\n  }",
          "fontSize": 26.59189334122057,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": " getContinueScreen(): FeatureScreen {\n    return this.getContinueScreenFunction()\n  }",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "mo9r9GYfer7sfDzPr5Suc",
          "type": "arrow",
          "x": 3657.337825473644,
          "y": 7178.712223869723,
          "width": 4.547473508864641e-13,
          "height": 89.885881873377,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bG9",
          "roundness": {
            "type": 2
          },
          "seed": 760900926,
          "version": 3043,
          "versionNonce": 1957580659,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -4.547473508864641e-13,
              89.885881873377
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "_W7KoRpREZdwslioeWW4L",
            "focus": 0.3617889275705709,
            "gap": 1.0000000000004547,
            "fixedPoint": null
          },
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "8Ht--ryXG-wsnLzsbM7RM",
          "type": "ellipse",
          "x": 2093.295152144955,
          "y": 7305.4119383576735,
          "width": 139.9651884778105,
          "height": 57.747437621623796,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGA",
          "roundness": {
            "type": 2
          },
          "seed": 2074955198,
          "version": 1171,
          "versionNonce": 1807345939,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Xw2yuTxbPYVN8zsCEtnlW",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false
        },
        {
          "id": "KFqcNBtVCU2paSerM8G1Z",
          "type": "text",
          "x": 5850.8569638993495,
          "y": 6413.044193385464,
          "width": 441.97186279296875,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGC",
          "roundness": null,
          "seed": 741301054,
          "version": 2531,
          "versionNonce": 474677331,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Xw2yuTxbPYVN8zsCEtnlW",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskStore.addNewTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.addNewTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Xw2yuTxbPYVN8zsCEtnlW",
          "type": "arrow",
          "x": 2238.259894806153,
          "y": 7334.172997495487,
          "width": 3582.752555924326,
          "height": 1066.1031012350904,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGE",
          "roundness": {
            "type": 2
          },
          "seed": 1486154174,
          "version": 4418,
          "versionNonce": 1256643891,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              912.9969275656686,
              -22.10850203833172
            ],
            [
              1106.1120325926267,
              183.05879702359368
            ],
            [
              2582.3840625424446,
              172.94225839424297
            ],
            [
              3293.317423405092,
              -55.294644401280834
            ],
            [
              3395.602811568523,
              -763.8784361237853
            ],
            [
              3582.752555924326,
              -883.0443042114966
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "8Ht--ryXG-wsnLzsbM7RM",
            "focus": 0.05888158889083223,
            "gap": 4.9999688924267645,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "L9HHRuje35um_ZcafzVU0",
            "focus": 1.058944079419832,
            "gap": 31.902383544090412,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false,
          "fixedSegments": [
            {
              "index": 2,
              "start": [
                995.3902163277162,
                0
              ],
              "end": [
                995.3902163277162,
                166.50982699708277
              ]
            },
            {
              "index": 3,
              "start": [
                995.3902163277162,
                166.50982699708277
              ],
              "end": [
                3358.3392528441054,
                166.50982699708277
              ]
            },
            {
              "index": 4,
              "start": [
                3358.3392528441054,
                166.50982699708277
              ],
              "end": [
                3358.3392528441054,
                -898.5741234820583
              ]
            }
          ],
          "startIsSpecial": false,
          "endIsSpecial": false
        },
        {
          "id": "L9HHRuje35um_ZcafzVU0",
          "type": "text",
          "x": 5861.859645176788,
          "y": 6467.3465769295535,
          "width": 1385.9642850768278,
          "height": 550.2803268857558,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGF",
          "roundness": null,
          "seed": 2059766626,
          "version": 1210,
          "versionNonce": 1785677715,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Xw2yuTxbPYVN8zsCEtnlW",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "const addNewTask = (newTaskType: TaskType, options?: TaskOptions): Result => {\n      if (store.hasActiveTasksWithTypes([newTaskType])) {\n        log.error(\"Unexpected error adding task\", {\n          error: new SystemError(`Active Task exists for type: ${newTaskType}`, \"TaskModel\"),\n        })\n        return Result.Error(\n          new SystemError(\"Unexpected error adding task. Active task already exists\", \"TaskModel\"),\n        )\n      }\n\n      const newTask = createNewTask(newTaskType, options)\n      if (newTask.scheduledDate) {\n        store.scheduledTasks.put(newTask)\n        return Result.VoidSuccess()\n      }\n\n      store.activeTasks.put(newTask)\n      return Result.VoidSuccess()\n}",
          "fontSize": 23.169697974137083,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const addNewTask = (newTaskType: TaskType, options?: TaskOptions): Result => {\n      if (store.hasActiveTasksWithTypes([newTaskType])) {\n        log.error(\"Unexpected error adding task\", {\n          error: new SystemError(`Active Task exists for type: ${newTaskType}`, \"TaskModel\"),\n        })\n        return Result.Error(\n          new SystemError(\"Unexpected error adding task. Active task already exists\", \"TaskModel\"),\n        )\n      }\n\n      const newTask = createNewTask(newTaskType, options)\n      if (newTask.scheduledDate) {\n        store.scheduledTasks.put(newTask)\n        return Result.VoidSuccess()\n      }\n\n      store.activeTasks.put(newTask)\n      return Result.VoidSuccess()\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "7bVSxn46_nDNDT9MiryoD",
          "type": "text",
          "x": 5859.810416553358,
          "y": 7058.602352897425,
          "width": 489.23980712890625,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGG",
          "roundness": null,
          "seed": 709537086,
          "version": 2770,
          "versionNonce": 253411027,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "TaskStore.createNewTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.createNewTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "PWoInpk6kUkl8yG1hrcJa",
          "type": "text",
          "x": 5867.953044509565,
          "y": 7108.210812137792,
          "width": 1291.2860655784607,
          "height": 336.060606126055,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGH",
          "roundness": null,
          "seed": 1269698850,
          "version": 1314,
          "versionNonce": 295791731,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "zkmDZYywEVRCPsEJDD5zM",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "const createNewTask = (taskType: TaskType, options?: TaskOptions): Instance<typeof TaskModel> =>\n  ActiveTaskModel.create({\n    created: new Date(),\n    lastUpdated: new Date(),\n    identifier: uuid(),\n    processingAttempts: 0,\n    status: TaskStatus.new,\n    type: taskType,\n    error: null,\n    scheduledDate: options?.scheduledDate || null,\n})",
          "fontSize": 24.440771354622182,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const createNewTask = (taskType: TaskType, options?: TaskOptions): Instance<typeof TaskModel> =>\n  ActiveTaskModel.create({\n    created: new Date(),\n    lastUpdated: new Date(),\n    identifier: uuid(),\n    processingAttempts: 0,\n    status: TaskStatus.new,\n    type: taskType,\n    error: null,\n    scheduledDate: options?.scheduledDate || null,\n})",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "jGHdTdKubA9_UJZHjSAKE",
          "type": "arrow",
          "x": 6597.902467488742,
          "y": 6773.978208369102,
          "width": 379.0752836644788,
          "height": 300.9477002308479,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGJ",
          "roundness": {
            "type": 2
          },
          "seed": 1755036194,
          "version": 1741,
          "versionNonce": 603007923,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              158.87420428823407,
              91.24113290801574
            ],
            [
              -220.2010793762447,
              300.9477002308479
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "JARxgE3XabR7zrPZuz_Cd",
          "type": "text",
          "x": 1918.9302053825895,
          "y": 7698.87790439875,
          "width": 520.2717626094818,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGK",
          "roundness": null,
          "seed": 349474750,
          "version": 1526,
          "versionNonce": 517422419,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "PaymentTaskWorker.process()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentTaskWorker.process()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "oppR6u549GHR82u2w3hAO",
          "type": "text",
          "x": 1918.508124506362,
          "y": 7757.43092869212,
          "width": 1739.2672500610352,
          "height": 1305,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGL",
          "roundness": null,
          "seed": 2027648510,
          "version": 1057,
          "versionNonce": 575281907,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "sdDJZdZT72ZZh7bFR0UuC",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "async process(request: ProcessTaskRequest): Promise<ProcessResult> {\n    const paymentDataResult = this.dataProvider.getPaymentData()\n    if (paymentDataResult.isFailure()) {\n      log.error(\"Error during payment task\", { error: paymentDataResult.error() })\n      return ProcessResult.ProcessingError(paymentDataResult.error())\n    }\n\n    if (this.dataProvider.getPaymentRouting) {\n      const paymentRouting = this.dataProvider.getPaymentRouting()\n      this.paymentStore.setPaymentSuccessRouting(\n        paymentRouting.paymentTask,\n        paymentRouting.quoteTask ?? null,\n        paymentRouting.nextScreen ?? null,\n      )\n    }\n\n    const result = await this.paymentStore.makePayment({\n      ...paymentDataResult.success(),\n      orderId: request.task.identifier,\n      paymentType: this.paymentType,\n    })\n\n    if (result.isFailure()) {\n      log.error(\"Error during payment task\", { error: result.error() })\n      return ProcessResult.ProcessingError(result.error())\n    }\n\n    return ProcessResult.ProcessingSuccess()\n}",
          "fontSize": 36,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "async process(request: ProcessTaskRequest): Promise<ProcessResult> {\n    const paymentDataResult = this.dataProvider.getPaymentData()\n    if (paymentDataResult.isFailure()) {\n      log.error(\"Error during payment task\", { error: paymentDataResult.error() })\n      return ProcessResult.ProcessingError(paymentDataResult.error())\n    }\n\n    if (this.dataProvider.getPaymentRouting) {\n      const paymentRouting = this.dataProvider.getPaymentRouting()\n      this.paymentStore.setPaymentSuccessRouting(\n        paymentRouting.paymentTask,\n        paymentRouting.quoteTask ?? null,\n        paymentRouting.nextScreen ?? null,\n      )\n    }\n\n    const result = await this.paymentStore.makePayment({\n      ...paymentDataResult.success(),\n      orderId: request.task.identifier,\n      paymentType: this.paymentType,\n    })\n\n    if (result.isFailure()) {\n      log.error(\"Error during payment task\", { error: result.error() })\n      return ProcessResult.ProcessingError(result.error())\n    }\n\n    return ProcessResult.ProcessingSuccess()\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "FZabO3u7P_J4AEBwuHu9o",
          "type": "text",
          "x": 5055.930879051505,
          "y": 7769.119290738328,
          "width": 1122.1392154693604,
          "height": 399.7158533105711,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGN",
          "roundness": null,
          "seed": 1018878462,
          "version": 1354,
          "versionNonce": 538982963,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export type PaymentData = {\n  accountBalance: string\n  /// The total amount that is due for the payment\n  amountDue: string\n  /// Optional: The amount the user wants to pay, may be less that the amount due\n  amountToPay?: string\n  paymentCurrency: string\n  serviceName: string\n  servicePrice: string\n  changePackageName?: string\n  smartcardNumber: string\n  journeyName: string\n}",
          "fontSize": 24.597898665265912,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export type PaymentData = {\n  accountBalance: string\n  /// The total amount that is due for the payment\n  amountDue: string\n  /// Optional: The amount the user wants to pay, may be less that the amount due\n  amountToPay?: string\n  paymentCurrency: string\n  serviceName: string\n  servicePrice: string\n  changePackageName?: string\n  smartcardNumber: string\n  journeyName: string\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "N7DdLoxfAAdvy3f-5owZE",
          "type": "text",
          "x": 5049.606697669863,
          "y": 7719.039833345363,
          "width": 236.6999089717865,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGO",
          "roundness": null,
          "seed": 1051917118,
          "version": 1748,
          "versionNonce": 253787091,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "PaymentData",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentData",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "m_eM9zmm-Oci8tUvNXPuS",
          "type": "arrow",
          "x": 2922.4239791061473,
          "y": 8177.444585984593,
          "width": 916.4934476513336,
          "height": 152.20578811956852,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGQ",
          "roundness": {
            "type": 2
          },
          "seed": 1879628670,
          "version": 1736,
          "versionNonce": 1676118387,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              369.6520738525087,
              25.45578993311642
            ],
            [
              532.4841193653065,
              138.64196090474297
            ],
            [
              916.4934476513336,
              152.20578811956852
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "i6bmXsQPo5-cLtP1__q5Y",
          "type": "text",
          "x": 3893.902982869963,
          "y": 8295.773422916427,
          "width": 858.7077367305756,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGR",
          "roundness": null,
          "seed": 542950370,
          "version": 1735,
          "versionNonce": 1404822291,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "PaymentStoreModel.setPaymentSuccessRouting()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentStoreModel.setPaymentSuccessRouting()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "7FzNaoZNwwLBgSHIdLpXX",
          "type": "text",
          "x": 3900.908650999051,
          "y": 8344.111529721082,
          "width": 626.4675827026367,
          "height": 268.33961735617567,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGT",
          "roundness": null,
          "seed": 27121442,
          "version": 1120,
          "versionNonce": 655624371,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "setPaymentSuccessRouting(\n      taskType: string,\n      quoteTaskType: string | null = null,\n      nextScreen?: FeatureScreen,\n    ) {\n      store.paymentTaskType = taskType\n      store.quoteTaskType = quoteTaskType\n      store.nextScreen = nextScreen\n},",
          "fontSize": 23.85241043166006,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "setPaymentSuccessRouting(\n      taskType: string,\n      quoteTaskType: string | null = null,\n      nextScreen?: FeatureScreen,\n    ) {\n      store.paymentTaskType = taskType\n      store.quoteTaskType = quoteTaskType\n      store.nextScreen = nextScreen\n},",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "y_SGjXJ8RPX43xAwtRTqd",
          "type": "arrow",
          "x": 3261.151282553822,
          "y": 8131.397470613928,
          "width": 1745.22817757777,
          "height": 193.2750922491383,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGU",
          "roundness": {
            "type": 2
          },
          "seed": 242502306,
          "version": 4368,
          "versionNonce": 1402370643,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              417.1915880392826,
              75.78174494745565
            ],
            [
              1392.6158978029416,
              107.34881357694519
            ],
            [
              1618.1948125275248,
              186.37038633407076
            ],
            [
              1745.22817757777,
              193.2750922491383
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "CSjZi_wmPsSIIjbs0SCiD",
          "type": "text",
          "x": 5041.2081866643775,
          "y": 8304.071120850656,
          "width": 466.1638219356537,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGV",
          "roundness": null,
          "seed": 1384248162,
          "version": 1943,
          "versionNonce": 1444526067,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "PaymentCompletionRouting",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentCompletionRouting",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "yKlQV-fXHgQYkjH1ZpKak",
          "type": "text",
          "x": 5044.227827575748,
          "y": 8348.107002500936,
          "width": 641.1373334077762,
          "height": 182.1082841909057,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGW",
          "roundness": null,
          "seed": 1737382306,
          "version": 1230,
          "versionNonce": 1285833107,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export type PaymentCompletionRouting = {\n  paymentTask: TaskType\n  quoteTask?: TaskType\n  nextScreen?: FeatureScreen\n}",
          "fontSize": 29.137325470544916,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export type PaymentCompletionRouting = {\n  paymentTask: TaskType\n  quoteTask?: TaskType\n  nextScreen?: FeatureScreen\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "vWXiaLjlDcSRW7bC5WgUe",
          "type": "text",
          "x": 3893.881152776353,
          "y": 7781.098152673253,
          "width": 842.4020576477051,
          "height": 162.27757239824518,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGX",
          "roundness": null,
          "seed": 2004402786,
          "version": 1110,
          "versionNonce": 1349293875,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "ZlxJilwD-96Q18Om2bTG6",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "export interface PaymentDataProvider {\n  getPaymentData(): Result<PaymentData>\n  // if not provided, payment will route to the dashboard\n  getPaymentRouting?(): PaymentCompletionRouting\n}",
          "fontSize": 25.96441158371923,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export interface PaymentDataProvider {\n  getPaymentData(): Result<PaymentData>\n  // if not provided, payment will route to the dashboard\n  getPaymentRouting?(): PaymentCompletionRouting\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "t3QH3IN7DOcX0r9y6yNeA",
          "type": "arrow",
          "x": 3190.1258829592853,
          "y": 7824.676747967613,
          "width": 1822.286601191011,
          "height": 345.12194900786903,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGY",
          "roundness": {
            "type": 2
          },
          "seed": 1825278142,
          "version": 1903,
          "versionNonce": 679519859,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              409.76004210359906,
              27.412726597434812
            ],
            [
              558.6687453608329,
              264.14957413850357
            ],
            [
              1563.1192675417324,
              236.4174037327041
            ],
            [
              1673.056165141562,
              -27.198789678555386
            ],
            [
              1822.286601191011,
              -80.97237486936547
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "ZlxJilwD-96Q18Om2bTG6",
          "type": "arrow",
          "x": 2771.740081719516,
          "y": 7805.398963911254,
          "width": 1096.0830616989065,
          "height": 92.2432302999132,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGa",
          "roundness": {
            "type": 2
          },
          "seed": 445316578,
          "version": 4434,
          "versionNonce": 1093230611,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              65.03198561524414,
              -89.4961857409561
            ],
            [
              552.2819098347031,
              -92.2432302999132
            ],
            [
              652.2743317807476,
              -22.373572827952103
            ],
            [
              1096.0830616989065,
              -10.350025229981838
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "vWXiaLjlDcSRW7bC5WgUe",
            "focus": 0.5950412299451358,
            "gap": 26.058009357930132,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "OWEjzoz5wgehdXw7EE7eZ",
          "type": "text",
          "x": 3890.3207942674626,
          "y": 7732.654499604598,
          "width": 382.17587637901306,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGc",
          "roundness": null,
          "seed": 776868322,
          "version": 1853,
          "versionNonce": 1674175923,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "ZlxJilwD-96Q18Om2bTG6",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "PaymentDataProvider",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentDataProvider",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "sdDJZdZT72ZZh7bFR0UuC",
          "type": "arrow",
          "x": 2614.5457211641115,
          "y": 7756.289930385002,
          "width": 5295.472287269586,
          "height": 1298.2392775580374,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGd",
          "roundness": {
            "type": 2
          },
          "seed": 1735815010,
          "version": 5599,
          "versionNonce": 394835795,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              301.7731347670697,
              -127.1588867258182
            ],
            [
              2517.4563647705736,
              -172.42856196829922
            ],
            [
              4435.661399790545,
              -320.1703899726158
            ],
            [
              4913.793173643636,
              -1106.3526200467868
            ],
            [
              5295.472287269586,
              -1298.2392775580374
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "oppR6u549GHR82u2w3hAO",
            "focus": -0.7132802996763816,
            "gap": 1.140998307118025,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "jSefMVRbbjLeYK7CGEG5L",
            "focus": 0.7029663480478389,
            "gap": 12.932225892513088,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "lZuOn3V8cnF09Ei9cVuWL",
          "type": "text",
          "x": 2946.365746864478,
          "y": 8679.422480017072,
          "width": 1113.1649625542623,
          "height": 34.65646331985189,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGe",
          "roundness": null,
          "seed": 869727998,
          "version": 2109,
          "versionNonce": 985421043,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "iGIIejGzTMof2AUkdXFFl",
              "type": "arrow"
            }
          ],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "text": "paymentType: PaymentTransactionType = PaymentTransactionType.DstvPayment,",
          "fontSize": 27.7251706558815,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "paymentType: PaymentTransactionType = PaymentTransactionType.DstvPayment,",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "iGIIejGzTMof2AUkdXFFl",
          "type": "arrow",
          "x": 2643.912768219073,
          "y": 8633.17636916276,
          "width": 353.89913499184786,
          "height": 55.838402801000484,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGf",
          "roundness": {
            "type": 2
          },
          "seed": 1866721022,
          "version": 2551,
          "versionNonce": 1489761331,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              261.33485590958753,
              -23.92228483260078
            ],
            [
              353.89913499184786,
              31.916117968399703
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "lZuOn3V8cnF09Ei9cVuWL",
            "focus": -0.7733639487968322,
            "gap": 14.32999288591327,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "7AeJ-hpHDAtC8mahS9XEP",
          "type": "text",
          "x": 1966.2033950625419,
          "y": 9433.78031195782,
          "width": 1497.815933227539,
          "height": 1704.131153431995,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGg",
          "roundness": null,
          "seed": 1119927870,
          "version": 1236,
          "versionNonce": 1850013139,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "dieoDeCaopdK8eRhA6coJ",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "makePayment: flow<CancellableResult, [makePayment: MakePaymentRequest]>(function* (\n        makePayment: MakePaymentRequest,\n      ) {\n        store.setProp(\"smartCardNumber\", makePayment?.smartcardNumber || null)\n        yield fetchPaymentOptions(makePayment)\n\n        if (!store.hasOptions) {\n          return CancellableResult.Error(\n            new SystemError(\"Cannot make payment without payment options set\", \"PaymentStore\"),\n          ) // fetching options failed\n        }\n\n        // TODO future work, show user list of options and select\n        store.selectPaymentOption()\n        store.paymentStatus = null\n        const processResult: CancellableResult<ProcessPaymentResult> = yield paymentService.process(\n          store.selectedPaymentOption,\n        )\n\n        log.debug(\"makePayment response: \", { processResult })\n        if (processResult.isCancelled()) {\n          store.paymentStatus = PaymentStatus.CANCELLED\n          return CancellableResult.Cancelled()\n        }\n\n        // TODO Handle difference between system error and payment error in UI\n        if (processResult.isFailure()) {\n          // TODO log error here\n          store.paymentStatus = PaymentStatus.FAILURE\n          return CancellableResult.Error(\n            new SystemError(\"Unexpected error processing payment\", \"PaymentStore\"),\n          )\n        }\n\n        const result = processResult.success()\n        switch (result.status) {\n          case ProcessResultStatus.FAILURE:\n            store.paymentStatus = PaymentStatus.FAILURE\n            break\n          case ProcessResultStatus.PENDING:\n            store.paymentStatus = PaymentStatus.PENDING\n            break\n          case ProcessResultStatus.SUCCESS:\n            store.paymentStatus = PaymentStatus.SUCCESS\n            break\n          case ProcessResultStatus.UNKNOWN:\n            store.paymentStatus = PaymentStatus.UNKNOWN\n            break\n        }\n\n        // update order id and transaction id from making payment\n        store.updateSelectedPaymentOption(result)\n        return CancellableResult.VoidSuccess()\n      }),",
          "fontSize": 25.246387458251778,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "makePayment: flow<CancellableResult, [makePayment: MakePaymentRequest]>(function* (\n        makePayment: MakePaymentRequest,\n      ) {\n        store.setProp(\"smartCardNumber\", makePayment?.smartcardNumber || null)\n        yield fetchPaymentOptions(makePayment)\n\n        if (!store.hasOptions) {\n          return CancellableResult.Error(\n            new SystemError(\"Cannot make payment without payment options set\", \"PaymentStore\"),\n          ) // fetching options failed\n        }\n\n        // TODO future work, show user list of options and select\n        store.selectPaymentOption()\n        store.paymentStatus = null\n        const processResult: CancellableResult<ProcessPaymentResult> = yield paymentService.process(\n          store.selectedPaymentOption,\n        )\n\n        log.debug(\"makePayment response: \", { processResult })\n        if (processResult.isCancelled()) {\n          store.paymentStatus = PaymentStatus.CANCELLED\n          return CancellableResult.Cancelled()\n        }\n\n        // TODO Handle difference between system error and payment error in UI\n        if (processResult.isFailure()) {\n          // TODO log error here\n          store.paymentStatus = PaymentStatus.FAILURE\n          return CancellableResult.Error(\n            new SystemError(\"Unexpected error processing payment\", \"PaymentStore\"),\n          )\n        }\n\n        const result = processResult.success()\n        switch (result.status) {\n          case ProcessResultStatus.FAILURE:\n            store.paymentStatus = PaymentStatus.FAILURE\n            break\n          case ProcessResultStatus.PENDING:\n            store.paymentStatus = PaymentStatus.PENDING\n            break\n          case ProcessResultStatus.SUCCESS:\n            store.paymentStatus = PaymentStatus.SUCCESS\n            break\n          case ProcessResultStatus.UNKNOWN:\n            store.paymentStatus = PaymentStatus.UNKNOWN\n            break\n        }\n\n        // update order id and transaction id from making payment\n        store.updateSelectedPaymentOption(result)\n        return CancellableResult.VoidSuccess()\n      }),",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "wDlqWdWfL_F4wNKcjvrWg",
          "type": "arrow",
          "x": 2833.147616682202,
          "y": 8477.156278384653,
          "width": 1109.1892209677753,
          "height": 1023.275737691509,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGh",
          "roundness": {
            "type": 2
          },
          "seed": 1473184830,
          "version": 1842,
          "versionNonce": 2072632595,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -122.22258039229928,
              -64.51499069578267
            ],
            [
              -1003.5724388409599,
              50.802559738982154
            ],
            [
              -1109.1892209677753,
              856.3302190524012
            ],
            [
              -909.4936245095123,
              958.7607469957263
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "OEWIp9krRTKceFMU_W8Op",
          "type": "text",
          "x": 1959.4666085173712,
          "y": 9384.776239168343,
          "width": 610.7757909297943,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGi",
          "roundness": null,
          "seed": 1893584866,
          "version": 1881,
          "versionNonce": 1460847283,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PaymentStoreModel.makePayment()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentStoreModel.makePayment()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "MRZR-KKdQx6A9o8g1f39F",
          "type": "text",
          "x": 3570.531803625868,
          "y": 9064.9321526306,
          "width": 556.5298099517822,
          "height": 588.0888871504885,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGk",
          "roundness": null,
          "seed": 726027170,
          "version": 1338,
          "versionNonce": 1202582611,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "dieoDeCaopdK8eRhA6coJ",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "export type PaymentOptionsRequest = {\n  firstName: string\n  surname: string\n  phoneNumber: string\n  dueDate: Date\n  languageCode: string\n  smartcardNumber: string\n  accountBalance: string\n  amountDue: string\n  amountToPay?: string\n  paymentType: PaymentTransactionType\n  serviceName: string\n  servicePrice: string\n  changePackageName?: string\n  orderId: string\n  accountNumber: string\n  currency: string\n  selectedCurrencyOption: CurrencyOptions\n  journeyid?: string\n}",
          "fontSize": 23.52355548601954,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "export type PaymentOptionsRequest = {\n  firstName: string\n  surname: string\n  phoneNumber: string\n  dueDate: Date\n  languageCode: string\n  smartcardNumber: string\n  accountBalance: string\n  amountDue: string\n  amountToPay?: string\n  paymentType: PaymentTransactionType\n  serviceName: string\n  servicePrice: string\n  changePackageName?: string\n  orderId: string\n  accountNumber: string\n  currency: string\n  selectedCurrencyOption: CurrencyOptions\n  journeyid?: string\n}",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "mad6h75qH7WCKXlTANLnV",
          "type": "text",
          "x": 3567.7721201297823,
          "y": 9020.832100615504,
          "width": 424.79989981651306,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGm",
          "roundness": null,
          "seed": 470205730,
          "version": 1941,
          "versionNonce": 681917331,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PaymentOptionsRequest",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentOptionsRequest",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "dieoDeCaopdK8eRhA6coJ",
          "type": "arrow",
          "x": 2822.1332821008377,
          "y": 9425.885462618753,
          "width": 722.8629602000073,
          "height": 345.4264979496311,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGn",
          "roundness": {
            "type": 2
          },
          "seed": 1343136894,
          "version": 3821,
          "versionNonce": 910053683,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              263.8895797193841,
              -114.43647584916471
            ],
            [
              411.12649244335444,
              -291.7394068359299
            ],
            [
              722.8629602000073,
              -345.4264979496311
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "7AeJ-hpHDAtC8mahS9XEP",
            "focus": -0.6913053764995429,
            "gap": 7.89484933906806,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "MRZR-KKdQx6A9o8g1f39F",
            "focus": 0.9674556654428984,
            "gap": 25.53556132502331,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "_Z1zBVvj2yLTMWRFmtTyE",
          "type": "text",
          "x": 4965.524093942737,
          "y": 9138.582979596806,
          "width": 1207.6084289550781,
          "height": 2103.954539345634,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGo",
          "roundness": null,
          "seed": 1389552766,
          "version": 1578,
          "versionNonce": 123974355,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "const fetchPaymentOptions = async (makePayment: MakePaymentRequest): Promise<Result> => {\n      store.paymentOptionsLoadingState = LoadingStates.PENDING\n      const customerProfileStore: CustomerProfileStore =\n        getParent<typeof RootStoreModel>(store).customerProfileStore\n      const currencyStore: CurrencyStore = getParent<typeof RootStoreModel>(store).currencyStore\n      const authenticationStore = getParent<typeof RootStoreModel>(store).authenticationStore\n\n      const { firstName, surname } = customerProfileStore.profile\n      const userPrimaryPhoneNumber = customerProfileStore.primaryPhoneNumber\n      const accountNumber = customerProfileStore.defaultAccount?.accountNumber.toString() || \"\"\n\n      const paymentCurrency =\n        authenticationStore?.customer?.countryName === EthiopiaCountryName\n          ? currencyStore.currencyConfig.currencyCode\n          : makePayment.paymentCurrency\n      const convertedAmountToPay =\n        authenticationStore?.customer?.countryName === EthiopiaCountryName &&\n        store.selectedCurrencyOption === CurrencyOptions.Local\n          ? (\n              parseFloat(\n                makePayment.amountToPay ? makePayment.amountToPay : makePayment.amountDue,\n              ) * currencyStore.exchangeRate\n            ).toString()\n          : makePayment.amountToPay\n      const paymentOptionsRequest: PaymentOptionsRequest = {\n        amountDue: makePayment.amountDue,\n        amountToPay: convertedAmountToPay,\n        currency: paymentCurrency,\n        orderId: makePayment.orderId,\n        paymentType: makePayment.paymentType,\n        firstName,\n        surname,\n        phoneNumber: userPrimaryPhoneNumber?.formattedNumber() || \"\",\n        dueDate: DateUtils.utcNow(),\n        languageCode: defaultLocale,\n        accountNumber,\n        serviceName: makePayment.serviceName,\n        smartcardNumber: makePayment.smartcardNumber,\n        accountBalance: makePayment.accountBalance,\n        servicePrice: makePayment.servicePrice,\n        changePackageName: makePayment.changePackageName,\n        selectedCurrencyOption:\n          store.selectedCurrencyOption || currencyStore.getDefaultPaymentCurrencyOption(),\n        journeyid: store.isReconnect\n          ? PaymentJidTracker.RECONNECT_PAYMENT\n          : PaymentJidTracker.ACCOUNT_PAYMENT,\n      }\n\n      store.setAmountToPay(makePayment.amountToPay)\n      store.setPaymentCurrency(makePayment.paymentCurrency)\n      store.setPaymentJourney(makePayment.journeyName)\n\n      const cartItem = {\n        item_id: paymentOptionsRequest.orderId,\n        item_name: paymentOptionsRequest.serviceName,\n        price: makePayment?.servicePrice || makePayment?.amountToPay,\n      }\n      store.setCartItem(cartItem)\n\n      log.debug(\"PaymentStore - requesting payment\", { paymentOptionsRequest })\n      const optionsResult: Result<PaymentOptionsResponse> = await paymentService.getOptions(\n        paymentOptionsRequest,\n      )\n\n      if (optionsResult.isFailure()) {\n        log.error(\"Unexpected error loading payment options\", { error: optionsResult.error() })\n        store.setProp(\"paymentOptionsLoadingState\", LoadingStates.ERROR)\n        return Result.Error(\n          new SystemError(\n            \"Unexpected error loading payment options\",\n            \"PaymentStore\",\n            optionsResult.error(),\n          ),\n        )\n      }\n\n      const options = optionsResult.success().map((option) => PaymentOptionModel.create(option))\n      store.setProp(\"paymentOptions\", options)\n      store.setProp(\"paymentOptionsLoadingState\", LoadingStates.DONE)\n      return Result.VoidSuccess()\n    }",
          "fontSize": 20.779797919463057,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const fetchPaymentOptions = async (makePayment: MakePaymentRequest): Promise<Result> => {\n      store.paymentOptionsLoadingState = LoadingStates.PENDING\n      const customerProfileStore: CustomerProfileStore =\n        getParent<typeof RootStoreModel>(store).customerProfileStore\n      const currencyStore: CurrencyStore = getParent<typeof RootStoreModel>(store).currencyStore\n      const authenticationStore = getParent<typeof RootStoreModel>(store).authenticationStore\n\n      const { firstName, surname } = customerProfileStore.profile\n      const userPrimaryPhoneNumber = customerProfileStore.primaryPhoneNumber\n      const accountNumber = customerProfileStore.defaultAccount?.accountNumber.toString() || \"\"\n\n      const paymentCurrency =\n        authenticationStore?.customer?.countryName === EthiopiaCountryName\n          ? currencyStore.currencyConfig.currencyCode\n          : makePayment.paymentCurrency\n      const convertedAmountToPay =\n        authenticationStore?.customer?.countryName === EthiopiaCountryName &&\n        store.selectedCurrencyOption === CurrencyOptions.Local\n          ? (\n              parseFloat(\n                makePayment.amountToPay ? makePayment.amountToPay : makePayment.amountDue,\n              ) * currencyStore.exchangeRate\n            ).toString()\n          : makePayment.amountToPay\n      const paymentOptionsRequest: PaymentOptionsRequest = {\n        amountDue: makePayment.amountDue,\n        amountToPay: convertedAmountToPay,\n        currency: paymentCurrency,\n        orderId: makePayment.orderId,\n        paymentType: makePayment.paymentType,\n        firstName,\n        surname,\n        phoneNumber: userPrimaryPhoneNumber?.formattedNumber() || \"\",\n        dueDate: DateUtils.utcNow(),\n        languageCode: defaultLocale,\n        accountNumber,\n        serviceName: makePayment.serviceName,\n        smartcardNumber: makePayment.smartcardNumber,\n        accountBalance: makePayment.accountBalance,\n        servicePrice: makePayment.servicePrice,\n        changePackageName: makePayment.changePackageName,\n        selectedCurrencyOption:\n          store.selectedCurrencyOption || currencyStore.getDefaultPaymentCurrencyOption(),\n        journeyid: store.isReconnect\n          ? PaymentJidTracker.RECONNECT_PAYMENT\n          : PaymentJidTracker.ACCOUNT_PAYMENT,\n      }\n\n      store.setAmountToPay(makePayment.amountToPay)\n      store.setPaymentCurrency(makePayment.paymentCurrency)\n      store.setPaymentJourney(makePayment.journeyName)\n\n      const cartItem = {\n        item_id: paymentOptionsRequest.orderId,\n        item_name: paymentOptionsRequest.serviceName,\n        price: makePayment?.servicePrice || makePayment?.amountToPay,\n      }\n      store.setCartItem(cartItem)\n\n      log.debug(\"PaymentStore - requesting payment\", { paymentOptionsRequest })\n      const optionsResult: Result<PaymentOptionsResponse> = await paymentService.getOptions(\n        paymentOptionsRequest,\n      )\n\n      if (optionsResult.isFailure()) {\n        log.error(\"Unexpected error loading payment options\", { error: optionsResult.error() })\n        store.setProp(\"paymentOptionsLoadingState\", LoadingStates.ERROR)\n        return Result.Error(\n          new SystemError(\n            \"Unexpected error loading payment options\",\n            \"PaymentStore\",\n            optionsResult.error(),\n          ),\n        )\n      }\n\n      const options = optionsResult.success().map((option) => PaymentOptionModel.create(option))\n      store.setProp(\"paymentOptions\", options)\n      store.setProp(\"paymentOptionsLoadingState\", LoadingStates.DONE)\n      return Result.VoidSuccess()\n    }",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "BqYrbFnA2iYbQEeg9kUoe",
          "type": "arrow",
          "x": 2625.2299199249164,
          "y": 9572.650250995624,
          "width": 2308.032374713249,
          "height": 695.5764542965517,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGp",
          "roundness": {
            "type": 2
          },
          "seed": 1447190818,
          "version": 3492,
          "versionNonce": 2112790451,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              581.031132030279,
              35.117414707701755
            ],
            [
              949.211806998278,
              232.5749969266617
            ],
            [
              1514.7876350759361,
              200.5171115942594
            ],
            [
              1876.4097214957292,
              -224.21766295989255
            ],
            [
              2308.032374713249,
              -463.00145736989
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "dDYnnFwGtY8mRuvqkeeDw",
            "focus": 0.9371855163115863,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "dDYnnFwGtY8mRuvqkeeDw",
          "type": "text",
          "x": 4947.262294638165,
          "y": 9087.389701194501,
          "width": 753.9837987422943,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGq",
          "roundness": null,
          "seed": 290971838,
          "version": 2010,
          "versionNonce": 534600211,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "BqYrbFnA2iYbQEeg9kUoe",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PaymentStoreModel.fetchpaymentOptions()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentStoreModel.fetchpaymentOptions()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "ULSWeCyfywuqUfRYLL263",
          "type": "text",
          "x": 3589.620008098779,
          "y": 9994.091444885818,
          "width": 698.5035636407032,
          "height": 220.420576719567,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGr",
          "roundness": null,
          "seed": 881955582,
          "version": 1207,
          "versionNonce": 1090924883,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "selectPaymentOption(option?: PaymentOption) {\n      if (option) {\n        store.selectedPaymentOption = option\n        return\n      }\n\n      if (store.defaultPaymentOption) {\n        store.selectedPaymentOption = store.defaultPaymentOption\n      }\n    },",
          "fontSize": 17.633646137565368,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "selectPaymentOption(option?: PaymentOption) {\n      if (option) {\n        store.selectedPaymentOption = option\n        return\n      }\n\n      if (store.defaultPaymentOption) {\n        store.selectedPaymentOption = store.defaultPaymentOption\n      }\n    },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "KqrYBn7S9gbl_8itLjTEj",
          "type": "text",
          "x": 3585.1537111396055,
          "y": 9952.058493516457,
          "width": 747.4677464962006,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGs",
          "roundness": null,
          "seed": 246883006,
          "version": 2018,
          "versionNonce": 175804147,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PaymentStoreModel.selectPaymentOption()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PaymentStoreModel.selectPaymentOption()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "iOB3XdK0Rf8V-iMj3MIPu",
          "type": "arrow",
          "x": 2468.1706304923637,
          "y": 9854.026033898332,
          "width": 1092.6465943925896,
          "height": 118.83598599910874,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGt",
          "roundness": {
            "type": 2
          },
          "seed": 1098566946,
          "version": 2205,
          "versionNonce": 215103635,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              887.6268400477111,
              23.445129310817265
            ],
            [
              1092.6465943925896,
              118.83598599910874
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "Su-bm4OyO9bZlzQ45JNIu",
          "type": "arrow",
          "x": 3189.2398719410958,
          "y": 7824.409943368235,
          "width": 3135.8241600533092,
          "height": 353.04300362470553,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGu",
          "roundness": {
            "type": 2
          },
          "seed": 239838846,
          "version": 3707,
          "versionNonce": 104725875,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              411.96344067355403,
              29.604997997455712
            ],
            [
              556.2170241651779,
              268.8282191183953
            ],
            [
              1566.5161319292192,
              353.04300362470553
            ],
            [
              2604.9832859128937,
              339.7146350568123
            ],
            [
              3135.8241600533092,
              90.33298784791623
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "_8L_hLo63rNa143mJMv3G",
            "focus": 0.9795034449329502,
            "gap": 25.373865100013063,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "_8L_hLo63rNa143mJMv3G",
          "type": "text",
          "x": 6350.437897094418,
          "y": 7884.792950544848,
          "width": 1387.8315034564405,
          "height": 1107.3061103791904,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGv",
          "roundness": null,
          "seed": 861302114,
          "version": 1211,
          "versionNonce": 943026131,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Su-bm4OyO9bZlzQ45JNIu",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "getPaymentData(): Result<PaymentData, CustomError> {\n    try {\n      const accountQuote: OnDemandQuote = this.profileStore.defaultAccountQuote\n      const accountBalance = this.profileStore.defaultAccount?.accountBalance?.value || \"0\"\n\n      const payInLocal: boolean =\n        this.paymentStore.selectedCurrencyOption !== null &&\n        this.paymentStore.selectedCurrencyOption === CurrencyOptions.Local\n\n      const totalAmountDue: Amount = this.profileStore.totalAmountDue\n\n      if (!totalAmountDue) {\n        throw new SystemError(\"insufficient data\", \"ProfilePaymentDataProvider\")\n      }\n\n      let paymentCurrency: string = totalAmountDue.currencyCode\n      let amountDue: string = totalAmountDue.value\n\n      if (payInLocal && totalAmountDue.localPrice) {\n        paymentCurrency = totalAmountDue.localPrice.currency\n        amountDue = totalAmountDue.localPrice.amount.toString()\n      }\n\n      return Result.Success({\n        accountBalance,\n        paymentCurrency,\n        amountDue: stripAmount(amountDue),\n        amountToPay: this.profileStore.customAmountToPay || undefined,\n        // default these values as they are not critical to doing a payment\n        serviceName: accountQuote?.type || \"ServiceRetention\",\n        servicePrice: accountQuote?.total?.value || \"0.00\",\n        smartcardNumber: this.subscriptionStore.primarySmartCardNumber,\n        journeyName: JourneyName.DSTVPAYMENT,\n      })",
          "fontSize": 26.05426142068682,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "getPaymentData(): Result<PaymentData, CustomError> {\n    try {\n      const accountQuote: OnDemandQuote = this.profileStore.defaultAccountQuote\n      const accountBalance = this.profileStore.defaultAccount?.accountBalance?.value || \"0\"\n\n      const payInLocal: boolean =\n        this.paymentStore.selectedCurrencyOption !== null &&\n        this.paymentStore.selectedCurrencyOption === CurrencyOptions.Local\n\n      const totalAmountDue: Amount = this.profileStore.totalAmountDue\n\n      if (!totalAmountDue) {\n        throw new SystemError(\"insufficient data\", \"ProfilePaymentDataProvider\")\n      }\n\n      let paymentCurrency: string = totalAmountDue.currencyCode\n      let amountDue: string = totalAmountDue.value\n\n      if (payInLocal && totalAmountDue.localPrice) {\n        paymentCurrency = totalAmountDue.localPrice.currency\n        amountDue = totalAmountDue.localPrice.amount.toString()\n      }\n\n      return Result.Success({\n        accountBalance,\n        paymentCurrency,\n        amountDue: stripAmount(amountDue),\n        amountToPay: this.profileStore.customAmountToPay || undefined,\n        // default these values as they are not critical to doing a payment\n        serviceName: accountQuote?.type || \"ServiceRetention\",\n        servicePrice: accountQuote?.total?.value || \"0.00\",\n        smartcardNumber: this.subscriptionStore.primarySmartCardNumber,\n        journeyName: JourneyName.DSTVPAYMENT,\n      })",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "lnjvaxS4N_LXqZqLAL_Q3",
          "type": "text",
          "x": 6360.0400593814575,
          "y": 7835.325356031961,
          "width": 683.2077367305756,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGw",
          "roundness": null,
          "seed": 928271778,
          "version": 1977,
          "versionNonce": 1260640019,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "ProfileDataProvider.getPaymentData()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "ProfileDataProvider.getPaymentData()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "q7FEVngzikcHd610TIMsP",
          "type": "text",
          "x": 8087.447621001629,
          "y": 7667.63190158974,
          "width": 824.4264801736496,
          "height": 309.18438810043483,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGx",
          "roundness": null,
          "seed": 1038322238,
          "version": 1071,
          "versionNonce": 1432190131,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "get totalAmountDue(): Amount | null {\n      const currency: string = store.balance?.dueAmount?.currencyCode\n      if (!currency) {\n        return null\n      }\n      log.debug(\"Testing if reached here\", { store: store.balance?.dueAmount })\n      return (\n        store.balance?.dueAmount ||\n        AmountModel.create({\n          value: \"0\",\n          currencyCode: currency,\n        })\n      )\n    },",
          "fontSize": 17.66767932002483,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "get totalAmountDue(): Amount | null {\n      const currency: string = store.balance?.dueAmount?.currencyCode\n      if (!currency) {\n        return null\n      }\n      log.debug(\"Testing if reached here\", { store: store.balance?.dueAmount })\n      return (\n        store.balance?.dueAmount ||\n        AmountModel.create({\n          value: \"0\",\n          currencyCode: currency,\n        })\n      )\n    },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "xrz1dAZMBBQv_Dal2144l",
          "type": "arrow",
          "x": 7358.920896083225,
          "y": 8195.639256506947,
          "width": 724.035601750641,
          "height": 513.4798460294978,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGy",
          "roundness": {
            "type": 2
          },
          "seed": 1707882402,
          "version": 2160,
          "versionNonce": 1718760851,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              441.7382334751819,
              -241.85247085461788
            ],
            [
              469.2846310042878,
              -443.17922810440575
            ],
            [
              724.035601750641,
              -513.4798460294978
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "edUEu9f3xf4D18_fHuOaJ",
            "focus": 0.5112855236977039,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "edUEu9f3xf4D18_fHuOaJ",
          "type": "text",
          "x": 8085.749645404052,
          "y": 7623.1594104774495,
          "width": 700.4517822265625,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bGz",
          "roundness": null,
          "seed": 883838142,
          "version": 1994,
          "versionNonce": 1872112627,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "xrz1dAZMBBQv_Dal2144l",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "CustomerProfileStore.totalAmountDue()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CustomerProfileStore.totalAmountDue()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "cIWvILTbLEfB4oPqyg9qT",
          "type": "arrow",
          "x": 7364.977523794244,
          "y": 8776.160873775245,
          "width": 576.3823873298388,
          "height": 170.5657371508878,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH0",
          "roundness": {
            "type": 2
          },
          "seed": 1686861950,
          "version": 1613,
          "versionNonce": 1982012019,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              166.71578584040162,
              -17.431899394747234
            ],
            [
              410.71066834173325,
              -141.19078761856326
            ],
            [
              576.3823873298388,
              -170.5657371508878
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "KdPn_pIAWGUxkFIIxXkQ1",
            "focus": 1.0586003032311246,
            "gap": 18.887315016996126,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "KdPn_pIAWGUxkFIIxXkQ1",
          "type": "text",
          "x": 7960.247226141079,
          "y": 8609.040106928305,
          "width": 658.0741048276317,
          "height": 115.18874720958367,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH7",
          "roundness": null,
          "seed": 187302782,
          "version": 1349,
          "versionNonce": 1572482259,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "cIWvILTbLEfB4oPqyg9qT",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "  @action onPayNow() {\n    this.profileStore.setCustomAmountToPay(this.userAmountToPay)\n    this.taskStore.completeTask(PayNowTask)\n    this.navigation.pop()\n  }",
          "fontSize": 18.43019955353339,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "  @action onPayNow() {\n    this.profileStore.setCustomAmountToPay(this.userAmountToPay)\n    this.taskStore.completeTask(PayNowTask)\n    this.navigation.pop()\n  }",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "v-fyKItd1KGLmagEw_YPZ",
          "type": "text",
          "x": 7976.14568803842,
          "y": 8562.727589256603,
          "width": 519.7318456172943,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH8",
          "roundness": null,
          "seed": 65934782,
          "version": 2199,
          "versionNonce": 442323987,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PayNowViewModel.onPayNow()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PayNowViewModel.onPayNow()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "zLCq54C_z-yJ5w3tSsvgH",
          "type": "text",
          "x": 3327.873258392853,
          "y": 10462.574721059105,
          "width": 1223.6833650332944,
          "height": 579.0892409176782,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9",
          "roundness": null,
          "seed": 1640654718,
          "version": 1002,
          "versionNonce": 1516198323,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "async process(option: PaymentOption): Promise<CancellableResult<ProcessPaymentResult>> {\n    try {\n      const result = await inAppBrowser.openAuthenticate({\n        url: option.redirectUrl,\n        ephemeralWebSession: true,\n        showInRecents: true,\n      })\n\n      if (result.isFailure()) {\n        return CancellableResult.Error(result.error())\n      }\n\n      return CancellableResult.Success({\n        status: ProcessResultStatus.UNKNOWN,\n        orderId: option.orderId,\n        transactionId: null,\n      })\n    } catch (error) {\n      return CancellableResult.Error(new SystemError(\"Unexpected error\", \"PaymentViewModel\", error))\n    }\n  }",
          "fontSize": 22.060542511149645,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "async process(option: PaymentOption): Promise<CancellableResult<ProcessPaymentResult>> {\n    try {\n      const result = await inAppBrowser.openAuthenticate({\n        url: option.redirectUrl,\n        ephemeralWebSession: true,\n        showInRecents: true,\n      })\n\n      if (result.isFailure()) {\n        return CancellableResult.Error(result.error())\n      }\n\n      return CancellableResult.Success({\n        status: ProcessResultStatus.UNKNOWN,\n        orderId: option.orderId,\n        transactionId: null,\n      })\n    } catch (error) {\n      return CancellableResult.Error(new SystemError(\"Unexpected error\", \"PaymentViewModel\", error))\n    }\n  }",
          "autoResize": false,
          "lineHeight": 1.25
        },
        {
          "id": "NQIbCviNehS99M-i5VFJI",
          "type": "arrow",
          "x": 3285.0070052268484,
          "y": 9944.810257528585,
          "width": 128.0227698292456,
          "height": 487.3271976057654,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9V",
          "roundness": {
            "type": 2
          },
          "seed": 1036743074,
          "version": 1187,
          "versionNonce": 55552851,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              31.089663890397787,
              197.99352549625928
            ],
            [
              -96.9331059388478,
              470.14042766324656
            ],
            [
              12.824399936993359,
              487.3271976057654
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "JJ8LX1AdLu7kfpOE7GHoq",
          "type": "text",
          "x": -1022.9016223416065,
          "y": 5853.400949564552,
          "width": 1720.2455764123638,
          "height": 1222.1744950599252,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9l",
          "roundness": null,
          "seed": 370297250,
          "version": 842,
          "versionNonce": 2038745331,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "zkmDZYywEVRCPsEJDD5zM",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "checkTasks(): boolean {\n        log.debug(\"running checkTasks\")\n        // Do not run while current task is running\n        if (store.isTaskRunning) {\n          log.debug(\"TaskModel: checkTasks: task currently running\", {\n            identifier: store.currentTask.identifier,\n            type: store.currentTask.type,\n          })\n          return true\n        }\n\n        const nextTask = store.nextRunnableTask\n        if (!nextTask) {\n          log.debug(\"TaskModel: checkTasks: No task to execute now.\")\n          return false\n        }\n\n        if (nextTask.isScheduledTask) {\n          moveTaskToActive(nextTask)\n        }\n\n        const taskWorker = taskFactory.workerResolver.getWorkerFor(nextTask.type)\n        if (!taskWorker) {\n          log.error(\"Unexpected error running task\", {\n            error: new SystemError(`No TaskWorker found for task ${nextTask.type}`, \"TaskModel\"),\n          })\n\n          return false\n        }\n\n        store.setTaskProcessing(nextTask.identifier)\n        currentTaskExecution = runTask(nextTask, taskWorker)\n        return true\n  },",
          "fontSize": 28.757046942586463,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "checkTasks(): boolean {\n        log.debug(\"running checkTasks\")\n        // Do not run while current task is running\n        if (store.isTaskRunning) {\n          log.debug(\"TaskModel: checkTasks: task currently running\", {\n            identifier: store.currentTask.identifier,\n            type: store.currentTask.type,\n          })\n          return true\n        }\n\n        const nextTask = store.nextRunnableTask\n        if (!nextTask) {\n          log.debug(\"TaskModel: checkTasks: No task to execute now.\")\n          return false\n        }\n\n        if (nextTask.isScheduledTask) {\n          moveTaskToActive(nextTask)\n        }\n\n        const taskWorker = taskFactory.workerResolver.getWorkerFor(nextTask.type)\n        if (!taskWorker) {\n          log.error(\"Unexpected error running task\", {\n            error: new SystemError(`No TaskWorker found for task ${nextTask.type}`, \"TaskModel\"),\n          })\n\n          return false\n        }\n\n        store.setTaskProcessing(nextTask.identifier)\n        currentTaskExecution = runTask(nextTask, taskWorker)\n        return true\n  },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "6QW68qVrB18PbbQc37gdP",
          "type": "text",
          "x": -936.6808830557775,
          "y": 7390.382291582364,
          "width": 1358.322494506836,
          "height": 1401.9060384510901,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9p",
          "roundness": null,
          "seed": 1609817314,
          "version": 1283,
          "versionNonce": 789014579,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "const runTask = async (task: Task, worker: TaskWorker): Promise<void> => {\n      log.debug(\"TaskModel: Running task\", {\n        type: task.type,\n        id: task.identifier,\n        status: task.status,\n      })\n\n      if (shouldUseNavigation(worker) && task?.processingAttempts < 1) {\n        navigationRef.navigate(worker.getScreen() as any, {\n          taskType: task.type,\n        })\n      }\n\n      try {\n        const taskResult = await worker.process({ task })\n        log.debug(\"TaskModel: Process task completed\", {\n          type: task.type,\n          id: task.identifier,\n          taskResult,\n        })\n        store.updateTaskFromResult(task.identifier, taskResult)\n      } catch (error) {\n        log.error(\"Unexpected error running task, updating with error\", {\n          type: task.type,\n          id: task.identifier,\n          error,\n        })\n        store.updateTaskFromResult(\n          task.identifier,\n          ProcessResult.ProcessingError(\n            new SystemError(\n              `Unexpected error running process for task: ${task.type}`,\n              \"TaskModel\",\n              error,\n            ),\n          ),\n        )\n      }\n    }",
          "fontSize": 28.757046942586463,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const runTask = async (task: Task, worker: TaskWorker): Promise<void> => {\n      log.debug(\"TaskModel: Running task\", {\n        type: task.type,\n        id: task.identifier,\n        status: task.status,\n      })\n\n      if (shouldUseNavigation(worker) && task?.processingAttempts < 1) {\n        navigationRef.navigate(worker.getScreen() as any, {\n          taskType: task.type,\n        })\n      }\n\n      try {\n        const taskResult = await worker.process({ task })\n        log.debug(\"TaskModel: Process task completed\", {\n          type: task.type,\n          id: task.identifier,\n          taskResult,\n        })\n        store.updateTaskFromResult(task.identifier, taskResult)\n      } catch (error) {\n        log.error(\"Unexpected error running task, updating with error\", {\n          type: task.type,\n          id: task.identifier,\n          error,\n        })\n        store.updateTaskFromResult(\n          task.identifier,\n          ProcessResult.ProcessingError(\n            new SystemError(\n              `Unexpected error running process for task: ${task.type}`,\n              \"TaskModel\",\n              error,\n            ),\n          ),\n        )\n      }\n    }",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Q1q9OwPA-NqH8Csz6QRAs",
          "type": "text",
          "x": 381.34716615441766,
          "y": 6188.866837389816,
          "width": 1074.5302162225908,
          "height": 201.55946923942042,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9t",
          "roundness": null,
          "seed": 775682402,
          "version": 1143,
          "versionNonce": 1425140179,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "get nextRunnableTask(): Task | null {\n      return (\n        [...store.activeTasks.values()].find((task) => task.isRunnable) ||\n        [...store.scheduledTasks.values()].find((task) => task.isRunnable) ||\n        null\n      )\n    },",
          "fontSize": 23.035367913076623,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "get nextRunnableTask(): Task | null {\n      return (\n        [...store.activeTasks.values()].find((task) => task.isRunnable) ||\n        [...store.scheduledTasks.values()].find((task) => task.isRunnable) ||\n        null\n      )\n    },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "tDzyxYVJbd8eMikXGEWtg",
          "type": "arrow",
          "x": -368.5076088252472,
          "y": 6244.764151547577,
          "width": 710.5117793390875,
          "height": 61.89831067460909,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9x",
          "roundness": {
            "type": 2
          },
          "seed": 1941436450,
          "version": 1173,
          "versionNonce": 661662099,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              96.00667643895213,
              -57.69719416941075
            ],
            [
              710.5117793390875,
              -61.89831067460909
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "6PRbTpoUBz-KgdQG4JLeA",
            "focus": -0.44388580203013084,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "Cv8SnVHEZNop9f6TwvEi0",
          "type": "text",
          "x": 389.7234896607961,
          "y": 7153.328157414676,
          "width": 1206.7177969124677,
          "height": 311.7696360527858,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9z",
          "roundness": null,
          "seed": 230477310,
          "version": 990,
          "versionNonce": 713675027,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "setTaskProcessing(identifier: string) {\n      if (!store.activeTasks.has(identifier)) {\n        log.error(\"Unexpected error updating task processing\", {\n          error: new SystemError(`No active task found with identifier ${identifier}`),\n        })\n        return\n      }\n\n      const taskToUpdate = store.activeTasks.get(identifier)\n      taskToUpdate.setProcessing()\n    },",
          "fontSize": 22.67415534929351,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "setTaskProcessing(identifier: string) {\n      if (!store.activeTasks.has(identifier)) {\n        log.error(\"Unexpected error updating task processing\", {\n          error: new SystemError(`No active task found with identifier ${identifier}`),\n        })\n        return\n      }\n\n      const taskToUpdate = store.activeTasks.get(identifier)\n      taskToUpdate.setProcessing()\n    },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "sTF5Yec266YG4TS9QG3nv",
          "type": "arrow",
          "x": -179.92952571477053,
          "y": 6946.126700098343,
          "width": 980.6700719002581,
          "height": 149.0441448879683,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zV",
          "roundness": {
            "type": 2
          },
          "seed": 78803234,
          "version": 1161,
          "versionNonce": 1187717331,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              271.88097116475,
              13.651313446141103
            ],
            [
              980.6700719002581,
              149.0441448879683
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "bD39DSTLblSohVYafwocv",
            "focus": 0.8471784375458221,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "duWCZ86TY0f7jnHHjomP3",
          "type": "arrow",
          "x": -486.10817124453297,
          "y": 7010.573263339177,
          "width": 427.9073328591385,
          "height": 315.92658659883455,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zl",
          "roundness": {
            "type": 2
          },
          "seed": 146547262,
          "version": 1108,
          "versionNonce": 46221331,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              82.79886579515187,
              101.58991934185542
            ],
            [
              -322.1018007212533,
              197.97267926715404
            ],
            [
              -345.1084670639866,
              315.92658659883455
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "EKNs0XGXhcMPFNkG4GWE3",
            "focus": -0.43245505799300205,
            "gap": 14,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "so5WC6b_2bG91BqoatiCW",
          "type": "arrow",
          "x": -10.793484039887517,
          "y": 7909.010994478637,
          "width": 1889.83212213355,
          "height": 184.25502041331447,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zx",
          "roundness": {
            "type": 2
          },
          "seed": 667930018,
          "version": 962,
          "versionNonce": 1699112435,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              556.5026716347384,
              -19.41035091529693
            ],
            [
              1259.2880764816891,
              -158.99748759205067
            ],
            [
              1889.83212213355,
              -184.25502041331447
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "sGXgkBOb6u48ZanGCThYE",
          "type": "text",
          "x": 218.65252337260245,
          "y": 8980.998276873706,
          "width": 1399.152587890625,
          "height": 394.4726236267204,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzV",
          "roundness": null,
          "seed": 655567358,
          "version": 709,
          "versionNonce": 1846226835,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "yclC27s9JWB-XImJrb5Gq",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "    updateTaskFromResult(identifier: string, result: ProcessResult): void {\n      if (!store.activeTasks.has(identifier)) {\n        log.error(\"Unexpected error updating task from result\", {\n          error: new SystemError(`No active task found with identifier ${identifier}`),\n          result,\n        })\n        return\n      }\n\n      const taskToUpdate = store.activeTasks.get(identifier)\n      taskToUpdate.updateFromProcessResult(result)\n    },",
          "fontSize": 26.298174908448026,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "    updateTaskFromResult(identifier: string, result: ProcessResult): void {\n      if (!store.activeTasks.has(identifier)) {\n        log.error(\"Unexpected error updating task from result\", {\n          error: new SystemError(`No active task found with identifier ${identifier}`),\n          result,\n        })\n        return\n      }\n\n      const taskToUpdate = store.activeTasks.get(identifier)\n      taskToUpdate.updateFromProcessResult(result)\n    },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Blbq_BTCVbSO3T6yrj00x",
          "type": "arrow",
          "x": 90.74566997162674,
          "y": 8128.688961677535,
          "width": 581.2141293883935,
          "height": 788.8298038290213,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzl",
          "roundness": {
            "type": 2
          },
          "seed": 590954466,
          "version": 1556,
          "versionNonce": 1917230931,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              191.3633543602009,
              43.66080644752674
            ],
            [
              240.8218603538943,
              429.2313302512357
            ],
            [
              581.2141293883935,
              788.8298038290213
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "7WDHXwTQ6kWA_8K8yrOtg",
            "focus": 0.3574270267079101,
            "gap": 13.806113814343917,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "p1SjOnyFyf-4Kd7KFq6CL",
          "type": "text",
          "x": -427.411745125366,
          "y": 9988.031176960249,
          "width": 1268.3177490234375,
          "height": 1053.6900362440742,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzx",
          "roundness": null,
          "seed": 1240570018,
          "version": 795,
          "versionNonce": 2095469683,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "updateFromProcessResult(result: ProcessResult): void {\n    if (result.isAwaitingUser()) {\n      store.status = TaskStatus.waitingUserInput\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isSuccessful()) {\n      store.status = TaskStatus.success\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isCancelled()) {\n      store.status = TaskStatus.cancelled\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isPolling()) {\n      store.status = TaskStatus.pollRetry\n      // TODO consider splitting processing attempts and polling attempts into separate properties\n      store.processingAttempts = store.processingAttempts + 1\n      store.lastUpdated = new Date()\n      return\n    }\n\n    // task is failed, either retry or set to failed\n    if (store.processingAttempts < Config.tasks.maximumRetries) {\n      store.status = TaskStatus.failedRetry\n      store.processingAttempts = store.processingAttempts + 1\n    } else {\n      store.status = TaskStatus.failed\n    }\n\n    store.error = result.error()\n    store.lastUpdated = new Date()\n  },",
          "fontSize": 22.182948131454193,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "updateFromProcessResult(result: ProcessResult): void {\n    if (result.isAwaitingUser()) {\n      store.status = TaskStatus.waitingUserInput\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isSuccessful()) {\n      store.status = TaskStatus.success\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isCancelled()) {\n      store.status = TaskStatus.cancelled\n      store.lastUpdated = new Date()\n      return\n    }\n\n    if (result.isPolling()) {\n      store.status = TaskStatus.pollRetry\n      // TODO consider splitting processing attempts and polling attempts into separate properties\n      store.processingAttempts = store.processingAttempts + 1\n      store.lastUpdated = new Date()\n      return\n    }\n\n    // task is failed, either retry or set to failed\n    if (store.processingAttempts < Config.tasks.maximumRetries) {\n      store.status = TaskStatus.failedRetry\n      store.processingAttempts = store.processingAttempts + 1\n    } else {\n      store.status = TaskStatus.failed\n    }\n\n    store.error = result.error()\n    store.lastUpdated = new Date()\n  },",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "yclC27s9JWB-XImJrb5Gq",
          "type": "arrow",
          "x": 563.3983178425522,
          "y": 9392.975901282427,
          "width": 844.3314602362614,
          "height": 540.6874160852585,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzz",
          "roundness": {
            "type": 2
          },
          "seed": 35062462,
          "version": 2848,
          "versionNonce": 2135893651,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -115.99447013384747,
              172.8938187257063
            ],
            [
              -687.5993070107368,
              336.3094317561154
            ],
            [
              -844.3314602362614,
              540.6874160852585
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "sGXgkBOb6u48ZanGCThYE",
            "focus": 0.2533477591926674,
            "gap": 17.505000782000934,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "urZ44bZ1N0CxzAI8CzBpe",
            "focus": -0.6073925683819553,
            "gap": 13.231282425904283,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "CtlNeiij_XdmNZCzwpz48",
          "type": "text",
          "x": 7920.7364695229435,
          "y": 9435.566051324904,
          "width": 864.1588415149137,
          "height": 438.5705136268666,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzV",
          "roundness": null,
          "seed": 1458598178,
          "version": 1309,
          "versionNonce": 1629230003,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "const completeTask = (type: TaskType, shouldRunNextTask = true): Result => {\n      log.debug(\"TaskModel completeTask\", { type })\n      // complete the given task\n      const completeTaskResult = completeActiveTask(type)\n      if (completeTaskResult.isFailure()) {\n        return Result.VoidResultFrom(completeTaskResult)\n      }\n\n      log.debug(\"completeTaskResult\", { completeTaskResult })\n\n      // do not trigger next task if completed task was unsuccessful\n      if (!successfulTaskStatuses.includes(completeTaskResult.success()) || !shouldRunNextTask) {\n        log.debug(\"not running next task\", { completeTaskResult, shouldRunNextTask })\n        return Result.VoidSuccess()\n      }\n\n      // run the next task based on the completed task\n      const nextTaskResult = runNextTask(type)\n      if (nextTaskResult.isFailure()) {\n        log.error(\"Error running next task\", { error: nextTaskResult.error() })\n      }\n      return nextTaskResult\n    }",
          "fontSize": 15.25462656093449,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "const completeTask = (type: TaskType, shouldRunNextTask = true): Result => {\n      log.debug(\"TaskModel completeTask\", { type })\n      // complete the given task\n      const completeTaskResult = completeActiveTask(type)\n      if (completeTaskResult.isFailure()) {\n        return Result.VoidResultFrom(completeTaskResult)\n      }\n\n      log.debug(\"completeTaskResult\", { completeTaskResult })\n\n      // do not trigger next task if completed task was unsuccessful\n      if (!successfulTaskStatuses.includes(completeTaskResult.success()) || !shouldRunNextTask) {\n        log.debug(\"not running next task\", { completeTaskResult, shouldRunNextTask })\n        return Result.VoidSuccess()\n      }\n\n      // run the next task based on the completed task\n      const nextTaskResult = runNextTask(type)\n      if (nextTaskResult.isFailure()) {\n        log.error(\"Error running next task\", { error: nextTaskResult.error() })\n      }\n      return nextTaskResult\n    }",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "zkmDZYywEVRCPsEJDD5zM",
          "type": "arrow",
          "x": 5836.268048027039,
          "y": 7429.618948377692,
          "width": 6369.853222535072,
          "height": 1726.6621195192256,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzx",
          "roundness": {
            "type": 2
          },
          "seed": 881648738,
          "version": 2902,
          "versionNonce": 1181033811,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              -870.9693968576084,
              104.94263689445143
            ],
            [
              -2620.030367486759,
              130.34175402565052
            ],
            [
              -4136.553895586657,
              -37.11646781158379
            ],
            [
              -4454.026868115531,
              -1270.6993650914865
            ],
            [
              -6369.853222535072,
              -1596.320365493575
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": {
            "elementId": "PWoInpk6kUkl8yG1hrcJa",
            "focus": -0.29194501322799843,
            "gap": 31.684996482526003,
            "fixedPoint": null
          },
          "endBinding": {
            "elementId": "JJ8LX1AdLu7kfpOE7GHoq",
            "focus": -0.7502750487018275,
            "gap": 20.102366680436262,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "-Cn-kb9JT5NuFGzZdyB3i",
          "type": "arrow",
          "x": 8430.304465907448,
          "y": 8670.58864976011,
          "width": 786.15229095423,
          "height": 748.9103987316776,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzV",
          "roundness": {
            "type": 2
          },
          "seed": 140587838,
          "version": 2190,
          "versionNonce": 651091411,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              161.27778069741544,
              161.40561524130862
            ],
            [
              -624.8745102568146,
              631.2979310371775
            ],
            [
              -525.6548414464951,
              748.9103987316776
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": {
            "elementId": "Uds_aCw1tbGzUILcYQ6xQ",
            "focus": -1.022245733527589,
            "gap": 13.999999999999545,
            "fixedPoint": null
          },
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "5meoPFpG0TeQBLIIcM76c",
          "type": "text",
          "x": 7581.212349961528,
          "y": 11302.65901810723,
          "width": 335.91073456755294,
          "height": 90.7867146585855,
          "angle": 0,
          "strokeColor": "#2f9e44",
          "backgroundColor": "#ffc9c9",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzl",
          "roundness": null,
          "seed": 1950534629,
          "version": 653,
          "versionNonce": 1443114131,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "Can pay while loading\nWe use PayAt\nPayAt determines amount to pay\nWe do a fresh call after closing popup",
          "fontSize": 18.157342931717086,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "Can pay while loading\nWe use PayAt\nPayAt determines amount to pay\nWe do a fresh call after closing popup",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "b-oM54pCs2D6WpSU0M9NU",
          "type": "text",
          "x": 7945.479253590899,
          "y": 11326.797148566871,
          "width": 211.0783161229965,
          "height": 67.06862743718872,
          "angle": 0,
          "strokeColor": "#2f9e44",
          "backgroundColor": "#ffc9c9",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzt",
          "roundness": null,
          "seed": 161272523,
          "version": 363,
          "versionNonce": 479666739,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "1. AmountToPay\n2. PayAt request\n3. Second AmountToPay",
          "fontSize": 17.884967316583655,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "1. AmountToPay\n2. PayAt request\n3. Second AmountToPay",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "YyVwp2zINkO-TEi49hhPv",
          "type": "text",
          "x": 6479.126292261245,
          "y": 10193.912481617735,
          "width": 1928.2777489174046,
          "height": 479.8718890493384,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "#ffc9c9",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzzx",
          "roundness": null,
          "seed": 362842460,
          "version": 511,
          "versionNonce": 746218451,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "async getOptions(\n    request: PaymentOptionsRequest,\n  ): Promise<Result<Partial<PaymentOptionsResponse>, CustomError>> {\n    if (!this.customer) {\n      return Result.Error(\n        new SystemError(\"Unable to process payment, customer not set\", \"PayAtPaymentService\"),\n      )\n    }\n\n    /** There is a weird bug on ios where the in-app browser does not consistently pop up while the UI is changing.\n     * Adding a delay is a band aid, but we need one right now */\n    await delay(500)\n    return Result.Success([\n      {\n        redirectUrl: \n            `${this.config.payAtLink.baseUrl}/${this.customer.customerId}?utm_source=DSTV&utm_medium=${this.config.payAtLink.channel}&utm_campaign=Bills&jid=${request?.journeyid}`,\n        orderId: request.orderId,\n        transactionId: null,\n      },\n    ])\n  }",
          "fontSize": 18.280833868546228,
          "fontFamily": 8,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "async getOptions(\n    request: PaymentOptionsRequest,\n  ): Promise<Result<Partial<PaymentOptionsResponse>, CustomError>> {\n    if (!this.customer) {\n      return Result.Error(\n        new SystemError(\"Unable to process payment, customer not set\", \"PayAtPaymentService\"),\n      )\n    }\n\n    /** There is a weird bug on ios where the in-app browser does not consistently pop up while the UI is changing.\n     * Adding a delay is a band aid, but we need one right now */\n    await delay(500)\n    return Result.Success([\n      {\n        redirectUrl: \n            `${this.config.payAtLink.baseUrl}/${this.customer.customerId}?utm_source=DSTV&utm_medium=${this.config.payAtLink.channel}&utm_campaign=Bills&jid=${request?.journeyid}`,\n        orderId: request.orderId,\n        transactionId: null,\n      },\n    ])\n  }",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "GwoCvVsD31ci339YCqKP3",
          "type": "arrow",
          "x": 5955.134412765573,
          "y": 10694.741134467049,
          "width": 502.5616132892774,
          "height": 530.3044964129822,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "#ffc9c9",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzzz",
          "roundness": {
            "type": 2
          },
          "seed": 570683236,
          "version": 1170,
          "versionNonce": 230977907,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "points": [
            [
              0,
              0
            ],
            [
              68.25484159242387,
              -171.30566867738344
            ],
            [
              306.06483513827425,
              -271.4883021796486
            ],
            [
              371.33920510740154,
              -496.70784453598753
            ],
            [
              502.5616132892774,
              -530.3044964129822
            ]
          ],
          "lastCommittedPoint": null,
          "startBinding": null,
          "endBinding": null,
          "startArrowhead": null,
          "endArrowhead": "arrow",
          "elbowed": false
        },
        {
          "id": "aXL5nqwY1GyCiphg5xWZk",
          "type": "rectangle",
          "x": 8647.227836429513,
          "y": 11094.344636175516,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "#96f2d7",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bH9zzzzzzV",
          "roundness": {
            "type": 3
          },
          "seed": 1172359012,
          "version": 1154,
          "versionNonce": 29084435,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "qkuJOBywSrfBrjfepNC2-",
          "type": "text",
          "x": 3326.435622336131,
          "y": 10412.721530075161,
          "width": 548.1718480587006,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHC",
          "roundness": null,
          "seed": 384386978,
          "version": 2086,
          "versionNonce": 1557590195,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PayAtPaymentService.process()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PayAtPaymentService.process()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "vUTYK93ht_7lK3R874s2_",
          "type": "text",
          "x": -1027.6233092641514,
          "y": 5806.240012593735,
          "width": 425.7718200683594,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHD",
          "roundness": null,
          "seed": 1405600482,
          "version": 1425,
          "versionNonce": 549216851,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "zkmDZYywEVRCPsEJDD5zM",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.checkTasks()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.checkTasks()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "6PRbTpoUBz-KgdQG4JLeA",
          "type": "text",
          "x": 364.2139441769291,
          "y": 6147.548009225621,
          "width": 542.6997680664062,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHE",
          "roundness": null,
          "seed": 1275221858,
          "version": 1793,
          "versionNonce": 1447206899,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "tDzyxYVJbd8eMikXGEWtg",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.nextRunnableTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.nextRunnableTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "bD39DSTLblSohVYafwocv",
          "type": "text",
          "x": 378.8638662184376,
          "y": 7109.170844986311,
          "width": 555.623779296875,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHF",
          "roundness": null,
          "seed": 22476834,
          "version": 1757,
          "versionNonce": 964394803,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "sTF5Yec266YG4TS9QG3nv",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.setTaskProcessing()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.setTaskProcessing()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "EKNs0XGXhcMPFNkG4GWE3",
          "type": "text",
          "x": -939.873038736946,
          "y": 7340.499849938012,
          "width": 364.49981689453125,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHG",
          "roundness": null,
          "seed": 1378998526,
          "version": 1509,
          "versionNonce": 2029358707,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "duWCZ86TY0f7jnHHjomP3",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.runTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.runTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "7WDHXwTQ6kWA_8K8yrOtg",
          "type": "text",
          "x": 271.78457214291484,
          "y": 8931.3248793209,
          "width": 629.0277709960938,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHH",
          "roundness": null,
          "seed": 1067306274,
          "version": 1724,
          "versionNonce": 2049232307,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "Blbq_BTCVbSO3T6yrj00x",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.updateTaskFromResult()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.updateTaskFromResult()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "urZ44bZ1N0CxzAI8CzBpe",
          "type": "text",
          "x": -431.4262397606926,
          "y": 9946.89459979359,
          "width": 680.4357299804688,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHI",
          "roundness": null,
          "seed": 783207842,
          "version": 1898,
          "versionNonce": 1434270963,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "yclC27s9JWB-XImJrb5Gq",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.updateFromProcessResult()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.updateFromProcessResult()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Uds_aCw1tbGzUILcYQ6xQ",
          "type": "text",
          "x": 7918.6496244609525,
          "y": 9384.520599817632,
          "width": 460.61981201171875,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHJ",
          "roundness": null,
          "seed": 987985122,
          "version": 2169,
          "versionNonce": 376626227,
          "isDeleted": false,
          "boundElements": [
            {
              "id": "-Cn-kb9JT5NuFGzZdyB3i",
              "type": "arrow"
            }
          ],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore.completeTask()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore.completeTask()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Qor-YGrlWSYTqEqslpYr2",
          "type": "text",
          "x": 6477.504335506558,
          "y": 10144.797293415175,
          "width": 610.0558202266693,
          "height": 45,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHL",
          "roundness": null,
          "seed": 241972572,
          "version": 2191,
          "versionNonce": 2071571315,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "PayAtPaymentService.getOptions()",
          "fontSize": 36,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "PayAtPaymentService.getOptions()",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "glQdPr3H_XvqFjXHdIxQx",
          "type": "rectangle",
          "x": 8647.606841204248,
          "y": 11134.837866584507,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#f08c00",
          "backgroundColor": "#ffec99",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHM",
          "roundness": {
            "type": 3
          },
          "seed": 1808493404,
          "version": 1069,
          "versionNonce": 951698707,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "JfnmeKf2BfdsSzuRtrQeR",
          "type": "rectangle",
          "x": 8644.884510391277,
          "y": 10753.128196165431,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#343a40",
          "backgroundColor": "#e9ecef",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHN",
          "roundness": {
            "type": 3
          },
          "seed": 13186396,
          "version": 984,
          "versionNonce": 906341043,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "djDo-bDJBkPoS2C4lMqIK",
          "type": "rectangle",
          "x": 8647.505449970426,
          "y": 11173.252011431441,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "#ffd8a8",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHO",
          "roundness": {
            "type": 3
          },
          "seed": 798578532,
          "version": 1681,
          "versionNonce": 402906195,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "GTzIjr4w3AD4keFgpn0CZ",
          "type": "rectangle",
          "x": 8647.798963684512,
          "y": 11213.46875511724,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "#ffc9c9",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHP",
          "roundness": {
            "type": 3
          },
          "seed": 12634852,
          "version": 1594,
          "versionNonce": 713742835,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "fx7sjkG8-LwMw_3XyWLOI",
          "type": "rectangle",
          "x": 8645.206964189158,
          "y": 10789.397290170893,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "#1e1e1e",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHS",
          "roundness": {
            "type": 3
          },
          "seed": 704464860,
          "version": 1265,
          "versionNonce": 2057380755,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "ZZ4x3vzqtQBBpH9XojJsr",
          "type": "rectangle",
          "x": 8645.585968963893,
          "y": 10829.896434498563,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "#eaddd7",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHT",
          "roundness": {
            "type": 3
          },
          "seed": 54520924,
          "version": 1182,
          "versionNonce": 813513011,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "oOMgKh0oyPbiDfQSVwWuu",
          "type": "rectangle",
          "x": 8646.658494384632,
          "y": 10946.130400315089,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "#d0bfff",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHU",
          "roundness": {
            "type": 3
          },
          "seed": 1438253276,
          "version": 1097,
          "versionNonce": 696621779,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "eqEvneFx6cu4XrqefrZCc",
          "type": "rectangle",
          "x": 8645.484577730072,
          "y": 10868.11932817281,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "#99e9f2",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHV",
          "roundness": {
            "type": 3
          },
          "seed": 1761445212,
          "version": 1792,
          "versionNonce": 1381025907,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "e98ARXU_utL7nuC9plIJU",
          "type": "rectangle",
          "x": 8645.863582504811,
          "y": 10908.318022432813,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "#a5d8ff",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHW",
          "roundness": {
            "type": 3
          },
          "seed": 1113356764,
          "version": 1706,
          "versionNonce": 1084572179,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "qqNN7KzJo0FIi_3SMSrfv",
          "type": "rectangle",
          "x": 8646.823348109361,
          "y": 10983.165870078692,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#9c36b5",
          "backgroundColor": "#eebefa",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHX",
          "roundness": {
            "type": 3
          },
          "seed": 20076260,
          "version": 1277,
          "versionNonce": 226068403,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "wrlB59ngey72JJj0jmYBb",
          "type": "rectangle",
          "x": 8647.298065159775,
          "y": 11023.739621185161,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "#fcc2d7",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHY",
          "roundness": {
            "type": 3
          },
          "seed": 1175312996,
          "version": 1195,
          "versionNonce": 1861491027,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "nPeqqEuGN57EuDZ3ZmeR5",
          "type": "rectangle",
          "x": 8647.535440786722,
          "y": 11059.36914441548,
          "width": 23.869432175803,
          "height": 23.869432175803,
          "angle": 0,
          "strokeColor": "#2f9e44",
          "backgroundColor": "#b2f2bb",
          "fillStyle": "solid",
          "strokeWidth": 1,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHa",
          "roundness": {
            "type": 3
          },
          "seed": 1662882148,
          "version": 1755,
          "versionNonce": 309032691,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false
        },
        {
          "id": "2a8Ojhpfgf2jzO_rySkR9",
          "type": "text",
          "x": 8679.274116422142,
          "y": 11214.698257926924,
          "width": 89.47743225097656,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#e03131",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHc",
          "roundness": null,
          "seed": 764005980,
          "version": 1660,
          "versionNonce": 912662675,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskStore",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskStore",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "ezbvreFticDV1XDPaY_ht",
          "type": "text",
          "x": 8680.25842578524,
          "y": 11174.630584193543,
          "width": 182.05237182974815,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#e8590c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHd",
          "roundness": null,
          "seed": 1182086492,
          "version": 1748,
          "versionNonce": 77239859,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "CustomerProfileStore",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "CustomerProfileStore",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "VBfPJYr50hrxkBcPpQAkX",
          "type": "text",
          "x": 8677.176191475404,
          "y": 10831.887653659536,
          "width": 69.80743652582169,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#846358",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHe",
          "roundness": null,
          "seed": 817035996,
          "version": 1797,
          "versionNonce": 737105875,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "currency",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "currency",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "2MZKSt6L84lvqHEEIr1Y9",
          "type": "text",
          "x": 8678.613487098957,
          "y": 11094.950653264465,
          "width": 57.41748580336571,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#099268",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHf",
          "roundness": null,
          "seed": 546131556,
          "version": 1877,
          "versionNonce": 981132659,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "Models",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "Models",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "PPbHcrJ18loQ9il48I-bB",
          "type": "text",
          "x": 8679.134281537566,
          "y": 10911.321615528768,
          "width": 116.53240811824799,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#1971c2",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHg",
          "roundness": null,
          "seed": 512978140,
          "version": 1937,
          "versionNonce": 931381011,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "paymentStore",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "paymentStore",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "U9P4_PUYhpKMBRoftgpoj",
          "type": "text",
          "x": 8678.476921472331,
          "y": 10947.594489810195,
          "width": 108.53492736816406,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#6741d9",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHh",
          "roundness": null,
          "seed": 1335589437,
          "version": 2013,
          "versionNonce": 2105566387,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "TaskWorkers",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "TaskWorkers",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "QVy08OGyTPVgPMP_NFPwL",
          "type": "text",
          "x": 8679.437860691487,
          "y": 11024.70985214512,
          "width": 68.66993713378906,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#c2255c",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHi",
          "roundness": null,
          "seed": 382549341,
          "version": 2120,
          "versionNonce": 1410815571,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "Services",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "Services",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "kEPyLSRDZB9G9XzT496sY",
          "type": "text",
          "x": 8673.833581869152,
          "y": 10870.00845661802,
          "width": 133.75238406658173,
          "height": 21.88112546141104,
          "angle": 0,
          "strokeColor": "#0c8599",
          "backgroundColor": "transparent",
          "fillStyle": "cross-hatch",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 0,
          "opacity": 100,
          "groupIds": [],
          "frameId": "Iop4Q68sjXh-ADkcdedbd",
          "index": "bHj",
          "roundness": null,
          "seed": 13969181,
          "version": 2038,
          "versionNonce": 1243550707,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709595,
          "link": null,
          "locked": false,
          "text": "other functions",
          "fontSize": 17.504900369128833,
          "fontFamily": 5,
          "textAlign": "left",
          "verticalAlign": "top",
          "containerId": null,
          "originalText": "other functions",
          "autoResize": true,
          "lineHeight": 1.25
        },
        {
          "id": "Iop4Q68sjXh-ADkcdedbd",
          "type": "frame",
          "x": -1174.8257668745764,
          "y": 5604.807294606368,
          "width": 10180.401187387553,
          "height": 5835.2421875,
          "angle": 0,
          "strokeColor": "#1e1e1e",
          "backgroundColor": "transparent",
          "fillStyle": "solid",
          "strokeWidth": 2,
          "strokeStyle": "solid",
          "roughness": 1,
          "opacity": 100,
          "groupIds": [],
          "frameId": null,
          "index": "bHA",
          "roundness": null,
          "seed": 287074658,
          "version": 1210,
          "versionNonce": 1029577171,
          "isDeleted": false,
          "boundElements": [],
          "updated": 1739172709594,
          "link": null,
          "locked": false,
          "name": null
        }
      ],
      "created": 1739172873809,
      "name": "Task Engine"
    }
  ]
}
